(()=>{var d=()=>{let e=ALGOLIA_CONFIG.algolia;if(e.hits=e.hits||{per_page:10},e.labels=e.labels||{input_placeholder:"\u641C\u7D22.....",hits_empty:"\u672A\u53D1\u73B0\u4E0E \u300C${query}\u300D\u76F8\u5173\u5185\u5BB9",hits_stats:"\u627E\u5230${hits}\u6761\u7ED3\u679C\uFF08\u7528\u65F6 ${time} ms\uFF09"},!(e.applicationID&&e.apiKey&&e.indexName)){console.error("Algolia Settings are invalid.");return}if(!window.instantsearch){console.error("Algolia InstantSearch is not loaded.");return}let i=instantsearch({indexName:e.indexName,searchClient:algoliasearch(e.applicationID,e.apiKey),searchFunction:t=>{_$("#reimu-search-input input").value&&t.search()}});[instantsearch.widgets.configure({hitsPerPage:e.hits.per_page||10}),instantsearch.widgets.searchBox({container:"#reimu-search-input",placeholder:e.labels.input_placeholder,showReset:!1,showSubmit:!1,showLoadingIndicator:!1}),instantsearch.widgets.hits({container:"#reimu-hits",templates:{item(t){return`<a href="${t.permalink}" class="reimu-hit-item-link">${t._highlightResult.title.value}</a>`},empty(t){return`<div id="reimu-hits-empty">${e.labels.hits_empty.replace(/\$\{query}/,t.query)}</div>`}},cssClasses:{item:"reimu-hit-item"}}),instantsearch.widgets.stats({container:"#reimu-stats",templates:{text(t){return e.labels.hits_stats.replace(/\$\{hits}/,t.nbHits).replace(/\$\{time}/,t.processingTimeMS)+`<span class="reimu-powered"><img src="${ALGOLIA_CONFIG.logo}" alt="Algolia" /></span><hr />`}}}),instantsearch.widgets.pagination({container:"#reimu-pagination",scrollTo:!1,showFirst:!1,showLast:!1,cssClasses:{list:"pagination",item:"pagination-item",link:"page-number",selectedItem:"current",disabledItem:"disabled-item"}})].forEach(t=>i.addWidget(t)),i.start();let s=_$(".popup-trigger"),a=_$(".popup-btn-close"),n=_$("#container"),r=_$("#header-nav"),l=_$("#mask"),o=_$(".popup"),h=_$("#reimu-search-input input");s&&s.addEventListener("click",t=>{t.stopPropagation();let c=window.innerWidth-document.documentElement.offsetWidth;n.style.marginRight=c+"px",r.style.marginRight=c+"px",o.classList.add("show"),l.classList.remove("hide"),document.body.style.overflow="hidden",h.focus()}),a&&a.addEventListener("click",()=>{o.classList.remove("show"),l.classList.add("hide"),n.style.marginRight="",r.style.marginRight="",document.body.style.overflow=""})};document.readyState!=="loading"?d():document.addEventListener("DOMContentLoaded",d);})();
