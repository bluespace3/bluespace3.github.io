(()=>{var d=()=>{let t=ALGOLIA_CONFIG.algolia;if(!(t.applicationID&&t.apiKey&&t.indexName)){console.error("Algolia Settings are invalid.");return}if(!window.instantsearch){console.error("Algolia InstantSearch is not loaded.");return}let i=instantsearch({indexName:t.indexName,searchClient:algoliasearch(t.applicationID,t.apiKey),searchFunction:e=>{_$("#reimu-search-input input").value&&e.search()}});[instantsearch.widgets.configure({hitsPerPage:t.hits.per_page||10}),instantsearch.widgets.searchBox({container:"#reimu-search-input",placeholder:t.labels.input_placeholder,showReset:!1,showSubmit:!1,showLoadingIndicator:!1}),instantsearch.widgets.hits({container:"#reimu-hits",templates:{item(e){return`<a href="${e.permalink}" class="reimu-hit-item-link">${e._highlightResult.title.value}</a>`},empty(e){return`<div id="reimu-hits-empty">${t.labels.hits_empty.replace(/\$\{query}/,e.query)}</div>`}},cssClasses:{item:"reimu-hit-item"}})].forEach(e=>i.addWidget(e)),i.start();let a=_$(".popup-trigger"),s=_$(".popup-btn-close"),n=_$("#container"),o=_$("#header-nav"),r=_$("#mask"),l=_$(".popup"),h=_$("#reimu-search-input input");a&&a.addEventListener("click",e=>{e.stopPropagation();let c=window.innerWidth-document.documentElement.offsetWidth;n.style.marginRight=c+"px",o.style.marginRight=c+"px",l.classList.add("show"),r.classList.remove("hide"),document.body.style.overflow="hidden",h.focus()}),s&&s.addEventListener("click",()=>{l.classList.remove("show"),r.classList.add("hide"),n.style.marginRight="",o.style.marginRight="",document.body.style.overflow=""})};document.readyState!=="loading"?d():document.addEventListener("DOMContentLoaded",d);})();
