# GitHub éƒ¨ç½²è¯´æ˜

## ğŸ“Š å½“å‰éƒ¨ç½²æ–¹å¼

ä½ çš„åšå®¢ä½¿ç”¨ **GitHub Actions è‡ªåŠ¨éƒ¨ç½²** åˆ° GitHub Pagesã€‚

### éƒ¨ç½²æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    bluespace3.github.io                      â”‚
â”‚                      (GitHub ä»“åº“)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  main åˆ†æ”¯ (æºä»£ç )                                          â”‚
â”‚  â”œâ”€ content/          # åšå®¢æ–‡ç«                             â”‚
â”‚  â”œâ”€ themes/          # Hugo ä¸»é¢˜                            â”‚
â”‚  â”œâ”€ static/          # é™æ€èµ„æº                            â”‚
â”‚  â”œâ”€ layouts/         # è‡ªå®šä¹‰å¸ƒå±€                           â”‚
â”‚  â”œâ”€ tools/           # å·¥å…·è„šæœ¬                             â”‚
â”‚  â”œâ”€ public/          # æœ¬åœ°ç”Ÿæˆçš„é™æ€æ–‡ä»¶ï¼ˆGit æäº¤ï¼‰         â”‚
â”‚  â””â”€ .github/workflows/ # GitHub Actions é…ç½®                 â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    GitHub Actions è‡ªåŠ¨æ„å»º                      â”‚
â”‚                                                              â”‚
â”‚  è§¦å‘æ¡ä»¶ï¼špush åˆ° main åˆ†æ”¯                                  â”‚
â”‚  â†“                                                           â”‚
â”‚  1. æ£€å‡ºä»£ç                                                  â”‚
â”‚  2. å®‰è£… Hugo (extended)                                     â”‚
â”‚  3. æ„å»ºï¼šhugo --minify                                      â”‚
â”‚  4. éƒ¨ç½²åˆ° gh-pages åˆ†æ”¯                                      â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  gh-pages åˆ†æ”¯ (ä»…é™æ€æ–‡ä»¶)                                   â”‚
â”‚  â””â”€ (æ‰€æœ‰ public/ ç›®å½•çš„å†…å®¹)                                 â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
    GitHub Pages (ä» gh-pages åˆ†æ”¯å‘å¸ƒ)
              â†“
       https://bluespace3.github.io/
```

## ğŸ”„ å®Œæ•´éƒ¨ç½²æµç¨‹

### æ–¹å¼ 1ï¼šæ‰‹åŠ¨éƒ¨ç½²ï¼ˆå½“å‰ä½¿ç”¨ï¼‰

```bash
# 1. ä¿®æ”¹å†…å®¹
# ç¼–è¾‘ content/post/æ–‡ç« .md

# 2. ç”Ÿæˆæœ¬åœ°é™æ€æ–‡ä»¶
hugo --cleanDestinationDir

# 3. åŠ å¯†æ–‡ç« ï¼ˆå¦‚æœæœ‰åŠ å¯†å†…å®¹ï¼‰
python tools/hugo_encryptor/hugo-encryptor.py

# 4. æäº¤åˆ° Git
git add .
git commit -m "æ›´æ–°æ–‡ç« "
git push origin main
```

**æ¨é€åˆ° main åˆ†æ”¯å**ï¼š
- âœ… GitHub è‡ªåŠ¨æ£€æµ‹åˆ° push
- âœ… è§¦å‘ `.github/workflows/hugo.yml`
- âœ… è‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²åˆ° gh-pages åˆ†æ”¯
- âœ… GitHub Pages è‡ªåŠ¨æ›´æ–°ç½‘ç«™ï¼ˆé€šå¸¸éœ€è¦ 1-3 åˆ†é’Ÿï¼‰

### æ–¹å¼ 2ï¼šä¸€é”®éƒ¨ç½²è„šæœ¬

```bash
# Windows
deploy.bat

# Linux/macOS
./deploy.sh
```

è„šæœ¬ä¼šè‡ªåŠ¨æ‰§è¡Œï¼š
1. æ£€æŸ¥ decrypt.js æ–‡ä»¶
2. ç”Ÿæˆé™æ€ç½‘ç«™
3. åŠ å¯†æ–‡ç« 
4. æäº¤åˆ° Git
5. æ¨é€åˆ° GitHub

## ğŸ“ GitHub Actions é…ç½®

é…ç½®æ–‡ä»¶ï¼š`.github/workflows/hugo.yml`

```yaml
name: Deploy Hugo site

on:
  push:
    branches:
      - main  # å½“æ¨é€åˆ° main åˆ†æ”¯æ—¶è§¦å‘

jobs:
  deploy:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - name: Checkout
        uses: actions/checkout@v3
        with:
          submodules: false
          fetch-depth: 0

      - name: Setup Hugo
        uses: peaceiris/actions-hugo@v2
        with:
          hugo-version: 'latest'
          extended: true

      - name: Build
        run: hugo --minify --environment production

      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./public
          publish_branch: gh-pages
```

## ğŸ” æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€

### åœ¨ GitHub ä¸ŠæŸ¥çœ‹

1. è®¿é—®ï¼šhttps://github.com/bluespace3/bluespace3.github.io
2. ç‚¹å‡» **Actions** æ ‡ç­¾
3. å¯ä»¥çœ‹åˆ°æ¯æ¬¡éƒ¨ç½²çš„è¿è¡ŒçŠ¶æ€

### éƒ¨ç½²çŠ¶æ€å«ä¹‰

- âœ… **ç»¿è‰²å¯¹å‹¾**ï¼šéƒ¨ç½²æˆåŠŸ
- âŒ **çº¢è‰²å‰å·**ï¼šéƒ¨ç½²å¤±è´¥ï¼ˆç‚¹å‡»æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼‰
- ğŸ”„ **é»„è‰²åœ†ç‚¹**ï¼šæ­£åœ¨è¿è¡Œ
- â¸ï¸ **ç°è‰²åœ†ç‚¹**ï¼šç­‰å¾…è¿è¡Œ

## ğŸ“‚ åˆ†æ”¯è¯´æ˜

### main åˆ†æ”¯ï¼ˆæºä»£ç ï¼‰

**åŒ…å«å†…å®¹**ï¼š
- æ‰€æœ‰æºæ–‡ä»¶ï¼ˆcontentã€themesã€layouts ç­‰ï¼‰
- æœ¬åœ°ç”Ÿæˆçš„ public/ ç›®å½•
- å·¥ä½œæµé…ç½®
- æ‰€æœ‰å·¥å…·è„šæœ¬

**ç”¨é€”**ï¼š
- æœ¬åœ°å¼€å‘å’Œé¢„è§ˆ
- å†…å®¹ç®¡ç†
- ç‰ˆæœ¬æ§åˆ¶

### gh-pages åˆ†æ”¯ï¼ˆçº¯é™æ€æ–‡ä»¶ï¼‰

**åŒ…å«å†…å®¹**ï¼š
- åªæœ‰ public/ ç›®å½•ç”Ÿæˆçš„é™æ€æ–‡ä»¶
- ç”± GitHub Actions è‡ªåŠ¨ç»´æŠ¤

**ç”¨é€”**ï¼š
- GitHub Pages å‘å¸ƒæº
- ä¸éœ€è¦æ‰‹åŠ¨ç®¡ç†

## âš¡ éƒ¨ç½²æ—¶é—´çº¿

```
æœ¬åœ°ä¿®æ”¹ â†’ git push (10ç§’)
           â†“
    GitHub Actions è§¦å‘ (5ç§’)
           â†“
        æ„å»º Hugo (20-30ç§’)
           â†“
      éƒ¨ç½²åˆ° gh-pages (10ç§’)
           â†“
    GitHub Pages æ›´æ–° (1-3åˆ†é’Ÿ)
```

**æ€»è®¡**ï¼šé€šå¸¸ **2-5 åˆ†é’Ÿ**å®Œæˆæ•´ä¸ªéƒ¨ç½²

## ğŸ¯ ä¼˜åŠ¿

### å½“å‰æ–¹å¼çš„ä¼˜åŠ¿

1. **âœ… å…¨è‡ªåŠ¨åŒ–**ï¼špush åè‡ªåŠ¨æ„å»ºéƒ¨ç½²
2. **âœ… åˆ†ç¦»æ¸…æ™°**ï¼šæºç å’Œå‘å¸ƒæ–‡ä»¶åœ¨ä¸åŒåˆ†æ”¯
3. **âœ… å†å²è®°å½•**ï¼šä¿ç•™å®Œæ•´çš„éƒ¨ç½²å†å²
4. **âœ… å›æ»šæ–¹ä¾¿**ï¼šgh-pages åˆ†æ”¯å¯ä»¥å¿«é€Ÿå›æ»š
5. **âœ… å…è´¹æ‰˜ç®¡**ï¼šGitHub Pages å®Œå…¨å…è´¹

### public/ ç›®å½•çš„ä½œç”¨

**æœ¬åœ° `public/`**ï¼š
- ç”¨äºæœ¬åœ°é¢„è§ˆï¼ˆ`hugo server`ï¼‰
- å¯ä»¥æäº¤åˆ° Gitï¼ˆä½†ä¸å½±å“éƒ¨ç½²ï¼‰
- ä¸å½±å“ GitHub Actions çš„æ„å»º

**gh-pages åˆ†æ”¯çš„ `public/`**ï¼š
- ç”± GitHub Actions é‡æ–°æ„å»º
- æ˜¯å®é™…å‘å¸ƒçš„å†…å®¹
- æ¯æ¬¡éƒ¨ç½²éƒ½æ˜¯å…¨æ–°æ„å»º

## ğŸ”§ è‡ªå®šä¹‰éƒ¨ç½²

### ä¿®æ”¹æ„å»ºå‘½ä»¤

ç¼–è¾‘ `.github/workflows/hugo.yml` ç¬¬ 26 è¡Œï¼š

```yaml
# å½“å‰ï¼ˆå‹ç¼©è¾“å‡ºï¼‰
run: hugo --minify --environment production

# æ”¹ä¸ºæ™®é€šæ„å»º
run: hugo --environment production

# æˆ–æ·»åŠ è‰ç¨¿
run: hugo --environment production --buildDrafts
```

### ä¿®æ”¹éƒ¨ç½²åˆ†æ”¯

å¦‚æœéœ€è¦éƒ¨ç½²åˆ°å…¶ä»–åˆ†æ”¯ï¼ˆä¸æ˜¯ gh-pagesï¼‰ï¼š

```yaml
# ç¬¬ 33 è¡Œ
publish_branch: your-branch-name
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. ä¸è¦æ‰‹åŠ¨ä¿®æ”¹ gh-pages åˆ†æ”¯

gh-pages åˆ†æ”¯ç”± GitHub Actions è‡ªåŠ¨ç®¡ç†ï¼Œæ‰‹åŠ¨ä¿®æ”¹ä¼šè¢«è¦†ç›–ã€‚

### 2. public/ åœ¨ .gitignore ä¸­ï¼Ÿ

å½“å‰ `public/` **æ²¡æœ‰**åœ¨ `.gitignore` ä¸­ï¼Œè¿™æ˜¯æ­£ç¡®çš„ï¼Œå› ä¸ºï¼š
- æœ¬åœ°é¢„è§ˆéœ€è¦
- ä¸å½±å“è‡ªåŠ¨éƒ¨ç½²ï¼ˆGitHub Actions ä¼šé‡æ–°æ„å»ºï¼‰
- æ–¹ä¾¿æŸ¥çœ‹æœ¬åœ°ç”Ÿæˆçš„å†…å®¹

### 3. éƒ¨ç½²å¤±è´¥æ’æŸ¥

å¦‚æœéƒ¨ç½²å¤±è´¥ï¼Œæ£€æŸ¥ï¼š
1. GitHub Actions æ—¥å¿—
2. hugo.toml é…ç½®æ˜¯å¦æ­£ç¡®
3. ä¸»é¢˜å­æ¨¡å—æ˜¯å¦æ­£ç¡®
4. è¯­æ³•é”™è¯¯ï¼ˆè¿è¡Œ `hugo` æœ¬åœ°æµ‹è¯•ï¼‰

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [GitHub Pages å®˜æ–¹æ–‡æ¡£](https://docs.github.com/en/pages)
- [peaceiris/actions-hugo](https://github.com/peaceiris/actions-hugo)
- [peaceiris/actions-gh-pages](https://github.com/peaceiris/actions-gh-pages)
