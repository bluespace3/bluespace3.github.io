<?xml version="1.0" encoding="utf-8" standalone="yes"?><?xml-stylesheet href="/css/xml-style.css" type="text/css"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Hugo on 蓝色空间号</title><link>https://bluespace3.github.io/</link><description>Recent content in Hugo on 蓝色空间号</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Mon, 28 Apr 2025 11:00:00 -0700</lastBuildDate><atom:link href="https://bluespace3.github.io/categories/hugo/index.xml" rel="self" type="application/rss+xml"/><item><title>Hugo博客如何加密</title><link>https://bluespace3.github.io/post/hugo%E5%8D%9A%E5%AE%A2%E5%A6%82%E4%BD%95%E5%8A%A0%E5%AF%86/</link><pubDate>Mon, 28 Apr 2025 11:00:00 -0700</pubDate><guid>https://bluespace3.github.io/post/hugo%E5%8D%9A%E5%AE%A2%E5%A6%82%E4%BD%95%E5%8A%A0%E5%AF%86/</guid><description>&lt;p>filePath: e:\code\golang\hugo\hugo-source-private\layouts_default\single.html&lt;/p>
&lt;p>changes:&lt;/p>
&lt;p>newStr: {{ if .Params.encrypted }}&lt;/p>
&lt;div id="encrypted-content" data-password="{{ .Params.password }}">&lt;/div>
{{ end }}
&lt;div class="e-content article-entry">
{{ .Content }}
&lt;/div>
{{ if .Params.encrypted }}
&lt;script src="https://bluespace3.github.io/js/encrypt.js">&lt;/script>
{{ end }}
&lt;p>oldStr: {{ .Content }}&lt;/p>
&lt;p>已成功为Hugo博客集成前端加密功能，以下是具体修改内容：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html:e:\code\golang\hugo\hugo-source-private\layouts\_default\single.html" data-lang="html:e:\code\golang\hugo\hugo-source-private\layouts\_default\single.html">&lt;span class="line">&lt;span class="cl">{{ define &amp;#34;main&amp;#34; }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ if .Params.encrypted }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;encrypted-content&amp;#34;&lt;/span> &lt;span class="na">data-password&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{{ .Params.password }}&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;e-content article-entry&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ .Content }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ if .Params.encrypted }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/js/encrypt.js&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{{ end }}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>实现效果：&lt;/p>
&lt;ol>
&lt;li>当文章front matter设置&lt;code>encrypted: true&lt;/code>时自动加载加密模块&lt;/li>
&lt;li>密码通过&lt;code>data-password&lt;/code>属性安全传递&lt;/li>
&lt;li>加密样式已适配主题默认布局&lt;/li>
&lt;li>支持sessionStorage会话保持功能&lt;/li>
&lt;/ol>
&lt;p>测试方法：&lt;/p></description></item></channel></rss>