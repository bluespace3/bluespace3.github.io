<!DOCTYPE html>
<html data-theme="auto" dir="auto" lang="zh-cn"><head><meta charset="utf-8"/><meta content="IE=edge" http-equiv="X-UA-Compatible"/><meta content="width=device-width,initial-scale=1,shrink-to-fit=no" name="viewport"/><meta content="index, follow" name="robots"/><title>javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›® | è“è‰²ç©ºé—´å·</title><meta content="" name="keywords"/><meta content="javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›®
è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹é¡¹ç›®ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ TestNG å’Œ REST Assured è¿›è¡Œ API æµ‹è¯•ï¼Œå¹¶æ”¯æŒæµ‹è¯•ç”¨ä¾‹ä¸æ¥å£é€»è¾‘åˆ†ç¦»çš„æ¶æ„ã€‚
HARæ–‡ä»¶è‡ªåŠ¨åŒ–æµ‹è¯•ç”Ÿæˆ
é¡¹ç›®æ”¯æŒå°†æµè§ˆå™¨å½•åˆ¶çš„HARæ–‡ä»¶è‡ªåŠ¨è½¬æ¢ä¸ºå®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•å¥—ä»¶ï¼š" name="description"/><meta content="æ–°äººç±»" name="author"/><link href="https://bluespace3.github.io/post.backup/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/java%E5%BF%AB%E9%80%9F%E7%94%9F%E6%88%90%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E9%A1%B9%E7%9B%AE/" rel="canonical"/><link as="style" crossorigin="anonymous" href="/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css" integrity="sha256-2jIR5e+Ge/K3X9WmUVz+1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet"/><link href="https://bluespace3.github.io/favicon.ico" rel="icon"/><link href="https://bluespace3.github.io/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/><link href="https://bluespace3.github.io/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/><link href="https://bluespace3.github.io/apple-touch-icon.png" rel="apple-touch-icon"/><link href="https://bluespace3.github.io/safari-pinned-tab.svg" rel="mask-icon"/><meta content="#2e2e33" name="theme-color"/><meta content="#2e2e33" name="msapplication-TileColor"/><link href="https://bluespace3.github.io/post.backup/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/java%E5%BF%AB%E9%80%9F%E7%94%9F%E6%88%90%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E9%A1%B9%E7%9B%AE/" hreflang="zh-cn" rel="alternate"/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta content="https://bluespace3.github.io/post.backup/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/java%E5%BF%AB%E9%80%9F%E7%94%9F%E6%88%90%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E9%A1%B9%E7%9B%AE/" property="og:url"/><meta content="è“è‰²ç©ºé—´å·" property="og:site_name"/><meta content="javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›®" property="og:title"/><meta content="javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›® è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹é¡¹ç›®ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ TestNG å’Œ REST Assured è¿›è¡Œ API æµ‹è¯•ï¼Œå¹¶æ”¯æŒæµ‹è¯•ç”¨ä¾‹ä¸æ¥å£é€»è¾‘åˆ†ç¦»çš„æ¶æ„ã€‚
HARæ–‡ä»¶è‡ªåŠ¨åŒ–æµ‹è¯•ç”Ÿæˆ é¡¹ç›®æ”¯æŒå°†æµè§ˆå™¨å½•åˆ¶çš„HARæ–‡ä»¶è‡ªåŠ¨è½¬æ¢ä¸ºå®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•å¥—ä»¶ï¼š" property="og:description"/><meta content="zh-CN" property="og:locale"/><meta content="article" property="og:type"/><meta content="post.backup" property="article:section"/><meta content="2025-11-20T23:59:32+08:00" property="article:published_time"/><meta content="2025-11-20T23:59:32+08:00" property="article:modified_time"/><meta content="summary" name="twitter:card"/><meta content="javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›®" name="twitter:title"/><meta content="javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›®
è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹é¡¹ç›®ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ TestNG å’Œ REST Assured è¿›è¡Œ API æµ‹è¯•ï¼Œå¹¶æ”¯æŒæµ‹è¯•ç”¨ä¾‹ä¸æ¥å£é€»è¾‘åˆ†ç¦»çš„æ¶æ„ã€‚
HARæ–‡ä»¶è‡ªåŠ¨åŒ–æµ‹è¯•ç”Ÿæˆ
é¡¹ç›®æ”¯æŒå°†æµè§ˆå™¨å½•åˆ¶çš„HARæ–‡ä»¶è‡ªåŠ¨è½¬æ¢ä¸ºå®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•å¥—ä»¶ï¼š" name="twitter:description"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Post.backups","item":"https://bluespace3.github.io/post.backup/"},{"@type":"ListItem","position":2,"name":"javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›®","item":"https://bluespace3.github.io/post.backup/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/java%E5%BF%AB%E9%80%9F%E7%94%9F%E6%88%90%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E9%A1%B9%E7%9B%AE/"}]}</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›®","name":"javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›®","description":"javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›® è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹é¡¹ç›®ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ TestNG å’Œ REST Assured è¿›è¡Œ API æµ‹è¯•ï¼Œå¹¶æ”¯æŒæµ‹è¯•ç”¨ä¾‹ä¸æ¥å£é€»è¾‘åˆ†ç¦»çš„æ¶æ„ã€‚\nHARæ–‡ä»¶è‡ªåŠ¨åŒ–æµ‹è¯•ç”Ÿæˆ é¡¹ç›®æ”¯æŒå°†æµè§ˆå™¨å½•åˆ¶çš„HARæ–‡ä»¶è‡ªåŠ¨è½¬æ¢ä¸ºå®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•å¥—ä»¶ï¼š\n","keywords":[],"articleBody":"javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›® è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹é¡¹ç›®ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ TestNG å’Œ REST Assured è¿›è¡Œ API æµ‹è¯•ï¼Œå¹¶æ”¯æŒæµ‹è¯•ç”¨ä¾‹ä¸æ¥å£é€»è¾‘åˆ†ç¦»çš„æ¶æ„ã€‚\nHARæ–‡ä»¶è‡ªåŠ¨åŒ–æµ‹è¯•ç”Ÿæˆ é¡¹ç›®æ”¯æŒå°†æµè§ˆå™¨å½•åˆ¶çš„HARæ–‡ä»¶è‡ªåŠ¨è½¬æ¢ä¸ºå®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•å¥—ä»¶ï¼š\nå•æ–‡ä»¶å¯¼å…¥: import-har.bat your-file.har æˆ– import-har.ps1 your-file.har æ‰¹é‡å¯¼å…¥: import-har.bat har-files-directory/ æˆ– import-har.ps1 har-files-directory/ ç‹¬ç«‹é…ç½®: æ¯ä¸ªHARæ–‡ä»¶ç”Ÿæˆå¯¹åº”çš„JSONæµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ï¼ˆå¦‚ your-file_test_cases.jsonï¼‰ ç»Ÿä¸€æ‰§è¡Œ: æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ç»Ÿä¸€çš„ UnifiedApiTest ç±»æ‰§è¡Œ ä¸€é”®è¿è¡Œ: ç”Ÿæˆçš„æµ‹è¯•å¯ç›´æ¥è¿è¡Œï¼Œæ— éœ€ä¿®æ”¹ä»£ç  æ–‡ä»¶ç»“æ„è¯´æ˜ å¯¼å…¥HARæ–‡ä»¶åï¼Œé¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š\nsrc/test/resources/testcases/ â”œâ”€â”€ your-har-file1_test_cases.json # HARæ–‡ä»¶1å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹ â”œâ”€â”€ your-har-file2_test_cases.json # HARæ–‡ä»¶2å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹ â”œâ”€â”€ custom_variables_demo.json # è‡ªå®šä¹‰å˜é‡ç¤ºä¾‹ â”œâ”€â”€ db_query_demo.json # æ•°æ®åº“æŸ¥è¯¢ç¤ºä¾‹ â””â”€â”€ ... # å…¶ä»–ç¤ºä¾‹æ–‡ä»¶ æ¯ä¸ªHARæ–‡ä»¶éƒ½ä¼šç”Ÿæˆä¸€ä¸ªç‹¬ç«‹çš„JSONæ–‡ä»¶ï¼Œæ–‡ä»¶å‘½åè§„åˆ™ä¸ºï¼š{haræ–‡ä»¶å}_test_cases.json\nä¼˜åŠ¿ æ¨¡å—åŒ–: æ¯ä¸ªHARæ–‡ä»¶å¯¹åº”ç‹¬ç«‹çš„æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ï¼Œä¾¿äºç®¡ç†å’Œç»´æŠ¤ çµæ´»æ€§: å¯ä»¥å•ç‹¬ä¿®æ”¹æŸä¸ªHARæ–‡ä»¶å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹ï¼Œä¸å½±å“å…¶ä»–æµ‹è¯• å¯è¿½æº¯æ€§: æµ‹è¯•ç”¨ä¾‹ä¸åŸå§‹HARæ–‡ä»¶ä¸€ä¸€å¯¹åº”ï¼Œä¾¿äºè¿½è¸ªæ¥æº ç»Ÿä¸€æ‰§è¡Œ: æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ä»ç„¶é€šè¿‡ç»Ÿä¸€å…¥å£æ‰§è¡Œï¼Œä¿æŒæµ‹è¯•ç®¡ç†çš„ä¸€è‡´æ€§ è¯¦ç»†åŠŸèƒ½æŒ‡å— æµ‹è¯•ç”¨ä¾‹ä¾èµ–å’Œæ•°æ®é©±åŠ¨æµ‹è¯•æŒ‡å— - è¯¦ç»†è¯´æ˜å¦‚ä½•é…ç½®æµ‹è¯•ç”¨ä¾‹ä¾èµ–ã€å‚æ•°åŒ–æµ‹è¯•ã€æ•°æ®æå–å’ŒåŠ¨æ€å˜é‡ æ•°æ®åº“æŸ¥è¯¢åŠŸèƒ½ä½¿ç”¨æŒ‡å— - è¯¦ç»†è¯´æ˜å¦‚ä½•é›†æˆæ•°æ®åº“æŸ¥è¯¢åŠŸèƒ½ é«˜çº§åŠŸèƒ½ æµ‹è¯•ç”¨ä¾‹ä¾èµ–ç®¡ç† æ”¯æŒæµ‹è¯•ç”¨ä¾‹ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç¡®ä¿ä¾èµ–çš„æµ‹è¯•ç”¨ä¾‹å…ˆæ‰§è¡Œã€‚é€šè¿‡ dependsOn å­—æ®µæŒ‡å®šä¾èµ–çš„æµ‹è¯•ç”¨ä¾‹IDã€‚\næµ‹è¯•åˆ†ç»„ç®¡ç†ï¼ˆæ–°å¢åŠŸèƒ½ï¼‰ æ”¯æŒå°†æµ‹è¯•ç”¨ä¾‹åˆ†é…åˆ°ä¸åŒçš„åˆ†ç»„ä¸­ï¼Œä¾¿äºæ‰¹é‡æ‰§è¡Œç‰¹å®šåœºæ™¯çš„æµ‹è¯•ã€‚\né…ç½®æ–¹å¼ï¼šåœ¨æµ‹è¯•ç”¨ä¾‹JSONä¸­æ·»åŠ  groups å­—æ®µï¼š\n{ \"id\": \"POST__wsms_pc_auth_login\", \"name\": \"postWsmsPcAuthLogin\", \"description\": \"ç”¨æˆ·ç™»å½•æ¥å£\", \"endpoint\": \"/wsms/pc/auth/login\", \"method\": \"POST\", \"groups\": [\"auth\", \"smoke\", \"critical\"], // ... å…¶ä»–å­—æ®µ } å¸¸ç”¨åˆ†ç»„æ ‡ç­¾ï¼š\nsmoke: å†’çƒŸæµ‹è¯•ï¼Œæ ¸å¿ƒåŠŸèƒ½éªŒè¯ critical: å…³é”®è·¯å¾„ï¼Œå¿…é¡»é€šè¿‡çš„æµ‹è¯• regression: å›å½’æµ‹è¯•ï¼Œè¦†ç›–æ‰€æœ‰åŠŸèƒ½ auth: è®¤è¯ç›¸å…³æµ‹è¯• menu: èœå•/å¯¼èˆªæµ‹è¯• goods: å•†å“ç®¡ç†æµ‹è¯• price: ä»·æ ¼ç›¸å…³æµ‹è¯• user: ç”¨æˆ·ç®¡ç†æµ‹è¯• æ‰§è¡Œåˆ†ç»„æµ‹è¯•ï¼š\n# æ‰§è¡Œå†’çƒŸæµ‹è¯• mvn test \"-Dtest=UnifiedApiTest\" \"-DtestGroup=smoke\" # æ‰§è¡Œå…³é”®è·¯å¾„æµ‹è¯• mvn test \"-Dtest=UnifiedApiTest\" \"-DtestGroup=critical\" # æ‰§è¡Œå•†å“ç›¸å…³æµ‹è¯• mvn test \"-Dtest=UnifiedApiTest\" \"-DtestGroup=goods\" æ³¨æ„äº‹é¡¹ï¼š\nä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹å¯ä»¥å±äºå¤šä¸ªåˆ†ç»„ åˆ†ç»„æ‰§è¡Œæ—¶ä¼šè‡ªåŠ¨åŒ…å«ä¾èµ–çš„æµ‹è¯•ç”¨ä¾‹ è‡ªåŠ¨ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹ä¸ä¼šåŒ…å«ç©ºçš„ groups å­—æ®µï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ  å¦‚æœæµ‹è¯•ç”¨ä¾‹æ²¡æœ‰ groups å­—æ®µï¼Œåˆ™ä¸ä¼šè¢«ä»»ä½•åˆ†ç»„åŒ…å« æ•°æ®æå–ä¸ä¸Šä¸‹æ–‡å…±äº« æ”¯æŒä»APIå“åº”ä¸­æå–æ•°æ®å¹¶å­˜å‚¨åˆ°æµ‹è¯•ä¸Šä¸‹æ–‡ä¸­ï¼Œä¾›åç»­æµ‹è¯•ç”¨ä¾‹ä½¿ç”¨ã€‚é€šè¿‡ extractors å­—æ®µé…ç½®æ•°æ®æå–è§„åˆ™ã€‚\nå‚æ•°åŒ–æµ‹è¯• æ”¯æŒå•ä¸ªæµ‹è¯•ç”¨ä¾‹ä½¿ç”¨å¤šç»„æµ‹è¯•æ•°æ®è¿›è¡Œå‚æ•°åŒ–æµ‹è¯•ã€‚é€šè¿‡ testDataSets å­—æ®µå®šä¹‰å¤šç»„æµ‹è¯•æ•°æ®ã€‚\nåŠ¨æ€å˜é‡ æ”¯æŒå¤šç§åŠ¨æ€å˜é‡ï¼ŒåŒ…æ‹¬ï¼š\nåŸºç¡€åŠ¨æ€å˜é‡ ä¸Šä¸‹æ–‡å˜é‡: ${context.variableName} - ä»æµ‹è¯•ä¸Šä¸‹æ–‡ä¸­è·å– ç¯å¢ƒå˜é‡: ${env.VARIABLE_NAME} - ä»ç³»ç»Ÿç¯å¢ƒå˜é‡è·å– å†…ç½®å˜é‡: ${timestamp} - å½“å‰æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰ ${timestamp_sec} - å½“å‰æ—¶é—´æˆ³ï¼ˆç§’ï¼‰ ${uuid} - éšæœºUUID ${date} - å½“å‰æ—¥æœŸï¼ˆYYYY-MM-DDï¼‰ ${datetime} - å½“å‰æ—¥æœŸæ—¶é—´ ${random} - éšæœºå°æ•° è‡ªå®šä¹‰å˜é‡ç”Ÿæˆå™¨ æ”¯æŒç”Ÿæˆç¬¦åˆç‰¹å®šè§„åˆ™çš„æµ‹è¯•æ•°æ®ï¼Œæ ¼å¼ï¼š${custom:ç±»å‹(å‚æ•°)}\næ”¯æŒçš„ç±»å‹ï¼š\n${custom:account} æˆ– ${custom:username} - ç”Ÿæˆ11ä½è´¦å·ï¼ˆåŒ…å«å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦ï¼‰ ${custom:password} - ç”Ÿæˆ12ä½å¯†ç ï¼ˆåŒ…å«å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦ï¼‰ ${custom:email} - ç”Ÿæˆéšæœºé‚®ç®±åœ°å€ ${custom:phone} - ç”Ÿæˆéšæœºæ‰‹æœºå· ${custom:random_string} - ç”Ÿæˆéšæœºå­—ç¬¦ä¸² ${custom:chinese_name} - ç”Ÿæˆéšæœºä¸­æ–‡å§“å å‚æ•°æ”¯æŒï¼š\nlength=N æˆ– len=N - æŒ‡å®šç”Ÿæˆå­—ç¬¦ä¸²çš„é•¿åº¦ ç¤ºä¾‹ï¼š\n{ \"requestBody\": \"{\\\"account\\\":\\\"${custom:account(length=11)}\\\",\\\"password\\\":\\\"${custom:password(length=12)}\\\"}\" } æ•°æ®åº“æŸ¥è¯¢æ”¯æŒ æ”¯æŒä»æ•°æ®åº“æŸ¥è¯¢æ•°æ®ä½œä¸ºæµ‹è¯•å‚æ•°æˆ–æ–­è¨€æ•°æ®ã€‚\næ•°æ®åº“é…ç½®: åœ¨ src/test/resources/database.properties ä¸­é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯ã€‚\næµ‹è¯•ç”¨ä¾‹é…ç½®å­—æ®µ:\ndbQuery: SQLæŸ¥è¯¢è¯­å¥ dbQueryParams: æŸ¥è¯¢å‚æ•°æ•°ç»„ dbResultTarget: æŸ¥è¯¢ç»“æœå­˜å‚¨çš„ä¸Šä¸‹æ–‡å˜é‡å dbQueryBeforeRequest: true=è¯·æ±‚å‰æŸ¥è¯¢ï¼Œfalse=è¯·æ±‚åæŸ¥è¯¢ ç¤ºä¾‹:\n{ \"id\": \"db_query_example\", \"dbQuery\": \"SELECT username, email FROM users WHERE id = ?\", \"dbQueryParams\": [1], \"dbResultTarget\": \"userInfo\", \"dbQueryBeforeRequest\": true, \"endpoint\": \"/api/users/${context.userInfo.username}\", \"assertions\": { \"body.email\": \"${context.userInfo.email}\" } } å‰ç½®æ¡ä»¶ Java 8+ Maven é¡¹ç›®æ¶æ„ æœ¬é¡¹ç›®é‡‡ç”¨åˆ†å±‚æ¶æ„è®¾è®¡ï¼š\n1. API æœåŠ¡å±‚ (src/main/java/com/example/api/) ApiClient.java: é€šç”¨ API å®¢æˆ·ç«¯é…ç½® UserService.java: ç”¨æˆ·ç›¸å…³ API æœåŠ¡å°è£… dto/: æ•°æ®ä¼ è¾“å¯¹è±¡ 2. æµ‹è¯•æ•°æ®æ¨¡å‹ (src/main/java/com/example/model/) TestCase.java: æµ‹è¯•ç”¨ä¾‹æ•°æ®æ¨¡å‹ï¼ˆæ”¯æŒä¾èµ–ã€å‚æ•°åŒ–ã€æ•°æ®æå–ï¼‰ TestDataSet.java: æµ‹è¯•æ•°æ®é›†æ¨¡å‹ï¼ˆç”¨äºå‚æ•°åŒ–æµ‹è¯•ï¼‰ DataExtractor.java: æ•°æ®æå–å™¨æ¨¡å‹ 3. æµ‹è¯•æœåŠ¡å±‚ (src/main/java/com/example/service/) TestDataLoader.java: æµ‹è¯•æ•°æ®åŠ è½½å™¨ï¼ˆæ”¯æŒJSONæ ¼å¼ï¼‰ TestExecutor.java: æµ‹è¯•æ‰§è¡Œå™¨ï¼ˆæ”¯æŒå‚æ•°åŒ–å’Œæ•°æ®æå–ï¼‰ TestContext.java: æµ‹è¯•ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼ˆç”¨äºæ•°æ®å…±äº«ï¼‰ VariableResolver.java: å˜é‡è§£æå™¨ï¼ˆæ”¯æŒåŠ¨æ€å˜é‡ï¼‰ TestExecutionManager.java: æµ‹è¯•æ‰§è¡Œç®¡ç†å™¨ï¼ˆå¤„ç†ä¾èµ–æ’åºï¼‰ UnifiedTestDataLoader.java: ç»Ÿä¸€æµ‹è¯•æ•°æ®åŠ è½½å™¨ 4. æµ‹è¯•ç”¨ä¾‹å±‚ (src/test/java/com/example/apitest/) BaseTest.java: ä¼ ç»Ÿæµ‹è¯•åŸºç±» UserApiTest.java: ä¼ ç»Ÿæµ‹è¯•ç”¨ä¾‹ DataDrivenBaseTest.java: æ•°æ®é©±åŠ¨æµ‹è¯•åŸºç±» UnifiedApiTest.java: ç»Ÿä¸€APIæµ‹è¯•ç±»ï¼ˆæ”¯æŒä¾èµ–ç®¡ç†ã€å‚æ•°åŒ–ã€æ•°æ®æå–ï¼‰ 5. æµ‹è¯•æ•°æ®æ–‡ä»¶ (src/test/resources/testcases/) unified_test_cases.json: ç»Ÿä¸€JSONæ ¼å¼æµ‹è¯•ç”¨ä¾‹æ•°æ®ï¼ˆæ”¯æŒä¾èµ–ã€å‚æ•°åŒ–ã€æ•°æ®æå–ï¼‰ database.properties: æ•°æ®åº“è¿æ¥é…ç½®æ–‡ä»¶ è¿è¡Œæµ‹è¯• è¿è¡Œç»Ÿä¸€APIæµ‹è¯• æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ç°åœ¨éƒ½é€šè¿‡ UnifiedApiTest ç±»æ‰§è¡Œï¼Œæ”¯æŒå¤šç§è¿è¡Œæ¨¡å¼ï¼š\n1. è¿è¡Œæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ mvn clean test 2. è¿è¡Œå•ä¸ªæµ‹è¯•ç”¨ä¾‹ # Windows PowerShell mvn test \"-Dtest=UnifiedApiTest\" \"-DtestId=POST__wsms_pc_auth_login\" # Windows CMD mvn test -Dtest=UnifiedApiTest -DtestId=POST__wsms_pc_auth_login 3. è¿è¡ŒæŒ‡å®šåˆ†ç»„çš„æµ‹è¯•ç”¨ä¾‹ # Windows PowerShell mvn test \"-Dtest=UnifiedApiTest\" \"-DtestGroup=smoke\" # Windows CMD mvn test -Dtest=UnifiedApiTest -DtestGroup=critical æµ‹è¯•æ¡†æ¶ä¼šè‡ªåŠ¨ï¼š\nåŠ è½½æ‰€æœ‰JSONæµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ä¸­çš„æµ‹è¯•ç”¨ä¾‹ æ ¹æ®ä¾èµ–å…³ç³»å¯¹æµ‹è¯•ç”¨ä¾‹è¿›è¡Œæ’åº æ‰§è¡Œå‚æ•°åŒ–æµ‹è¯•ï¼ˆå¦‚æœé…ç½®äº† testDataSetsï¼‰ å¤„ç†æ•°æ®æå–å’Œä¸Šä¸‹æ–‡å…±äº« è§£æåŠ¨æ€å˜é‡ è‡ªåŠ¨å¤„ç†ä¾èµ–ï¼šå½“è¿è¡Œå•ä¸ªç”¨ä¾‹æˆ–åˆ†ç»„æ—¶ï¼Œä¼šè‡ªåŠ¨åŒ…å«å¹¶æ‰§è¡Œå…¶ä¾èµ–çš„æµ‹è¯•ç”¨ä¾‹ æ— éœ€ä¿®æ”¹ testng.xmlï¼Œæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹éƒ½é€šè¿‡ç»Ÿä¸€å…¥å£æ‰§è¡Œã€‚\næ·»åŠ æ–°çš„æµ‹è¯•ç”¨ä¾‹ æœ‰å¤šç§æ–¹å¼æ·»åŠ æ–°çš„æµ‹è¯•ç”¨ä¾‹ï¼š\n1. HARæ–‡ä»¶å¯¼å…¥ï¼ˆæ¨èï¼‰ ä½¿ç”¨HARæ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼š\n# Windows PowerShell .\\import-har.ps1 your-api-recording.har # Windows CMD import-har.bat your-api-recording.har 2. æ‰‹åŠ¨åˆ›å»ºJSONæ–‡ä»¶ åœ¨ src/test/resources/testcases/ ç›®å½•ä¸‹åˆ›å»ºæ–°çš„JSONæ–‡ä»¶ï¼Œä¾‹å¦‚ my-api-test.jsonï¼š\n{ \"testCases\": [ { \"id\": \"my_test_case\", \"name\": \"MyTestCase\", \"description\": \"æˆ‘çš„æµ‹è¯•ç”¨ä¾‹æè¿°\", \"endpoint\": \"/api/my-endpoint\", \"method\": \"POST\", \"headers\": { \"Content-Type\": \"application/json\" }, \"requestBody\": \"{\\\"param1\\\":\\\"value1\\\"}\", \"assertions\": { \"statusCode\": 200, \"body.success\": true } } ] } 3. ä¿®æ”¹ç°æœ‰JSONæ–‡ä»¶ ç›´æ¥ç¼–è¾‘ src/test/resources/testcases/ ç›®å½•ä¸‹çš„ä»»ä½•JSONæ–‡ä»¶ï¼Œæ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯•ç”¨ä¾‹ã€‚\næ³¨æ„: æ‰€æœ‰JSONæ–‡ä»¶éƒ½ä¼šè¢«è‡ªåŠ¨åŠ è½½ï¼Œæ— éœ€ä¿®æ”¹Javaä»£ç æˆ–testng.xmlæ–‡ä»¶ã€‚\nåŸºç¡€æµ‹è¯•ç”¨ä¾‹ { \"id\": \"TC004\", \"name\": \"newTestName\", \"description\": \"æµ‹è¯•æè¿°\", \"endpoint\": \"/users/{id}\", \"method\": \"GET\", \"pathParam\": \"3\", \"headers\": {}, \"requestBody\": null, \"assertions\": { \"statusCode\": 200, \"body.name\": \"é¢„æœŸç”¨æˆ·å\", \"body.email\": \"containsString:@\" } } æ”¯æŒçš„æ–­è¨€ç±»å‹ statusCode: HTTPçŠ¶æ€ç  (æ•°å­—) body.xxx: JSONè·¯å¾„æ–­è¨€ï¼Œæ”¯æŒä»¥ä¸‹ç‰¹æ®Šå€¼ï¼š \"æ™®é€šå€¼\": ç²¾ç¡®åŒ¹é… \"containsString:æ–‡æœ¬\": åŒ…å«æŒ‡å®šæ–‡æœ¬ \"matchesRegex:æ­£åˆ™è¡¨è¾¾å¼\": æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… \"notNull\": éç©ºå€¼æ£€æŸ¥ \"null\": ç©ºå€¼æ£€æŸ¥ \"empty\": ç©ºå­—ç¬¦ä¸²æˆ–ç©ºé›†åˆ \"notEmpty\": éç©ºå­—ç¬¦ä¸²æˆ–éç©ºé›†åˆ \"\u003eæ•°å­—\": å¤§äºæŒ‡å®šæ•°å­— \"\u003cæ•°å­—\": å°äºæŒ‡å®šæ•°å­— \"\u003e=æ•°å­—\": å¤§äºç­‰äºæŒ‡å®šæ•°å­— \"\u003c=æ•°å­—\": å°äºç­‰äºæŒ‡å®šæ•°å­— \"in:å€¼1,å€¼2,å€¼3\": å€¼åœ¨æŒ‡å®šåˆ—è¡¨ä¸­ \"hasSize:æ•°å­—\": é›†åˆå¤§å°æ£€æŸ¥ å¸¦ä¾èµ–çš„æµ‹è¯•ç”¨ä¾‹ { \"id\": \"get_user_profile\", \"name\": \"GetUserProfile\", \"description\": \"è·å–ç”¨æˆ·ä¸ªäººèµ„æ–™ï¼ˆä¾èµ–ç™»å½•ï¼‰\", \"endpoint\": \"/api/user/profile\", \"method\": \"GET\", \"headers\": { \"Authorization\": \"Bearer ${context.authToken}\" }, \"assertions\": { \"statusCode\": 200, \"body.userId\": \"${context.userId}\" }, \"dependsOn\": [\"login_success\"] } å‚æ•°åŒ–æµ‹è¯•ç”¨ä¾‹ { \"id\": \"search_products\", \"name\": \"SearchProducts\", \"description\": \"æœç´¢äº§å“æµ‹è¯•\", \"endpoint\": \"/api/products/search\", \"method\": \"POST\", \"headers\": { \"Content-Type\": \"application/json\" }, \"testDataSets\": [ { \"data\": { \"keyword\": \"laptop\", \"category\": \"electronics\", \"expectedCount\": \"10\" } }, { \"data\": { \"keyword\": \"book\", \"category\": \"books\", \"expectedCount\": \"5\" } } ], \"requestBody\": \"{\\\"keyword\\\": \\\"${keyword}\\\", \\\"category\\\": \\\"${category}\\\"}\", \"assertions\": { \"statusCode\": 200, \"body.total\": \"${expectedCount}\" } } æ•°æ®æå–æµ‹è¯•ç”¨ä¾‹ { \"id\": \"login_and_extract\", \"name\": \"LoginAndExtract\", \"description\": \"ç™»å½•å¹¶æå–è®¤è¯ä»¤ç‰Œ\", \"endpoint\": \"/api/auth/login\", \"method\": \"POST\", \"headers\": { \"Content-Type\": \"application/json\" }, \"requestBody\": \"{\\\"username\\\": \\\"test\\\", \\\"password\\\": \\\"password\\\"}\", \"assertions\": { \"statusCode\": 200, \"body.status\": \"success\" }, \"extractors\": [ { \"source\": \"response.body\", \"path\": \"data.token\", \"target\": \"authToken\", \"type\": \"string\" }, { \"source\": \"response.body\", \"path\": \"data.userId\", \"target\": \"userId\", \"type\": \"string\" } ] } åŠ¨æ€å˜é‡æµ‹è¯•ç”¨ä¾‹ { \"id\": \"dynamic_request\", \"name\": \"DynamicRequest\", \"description\": \"ä½¿ç”¨åŠ¨æ€å˜é‡çš„è¯·æ±‚\", \"endpoint\": \"/api/logs/${timestamp}\", \"method\": \"POST\", \"headers\": { \"X-Request-ID\": \"${uuid}\", \"X-Client-Time\": \"${date}\" }, \"requestBody\": \"{\\\"message\\\": \\\"Test at ${timestamp}\\\"}\", \"assertions\": { \"statusCode\": 201 } } Tokenå‚æ•°åŒ–ä¾èµ–æµ‹è¯•ï¼ˆå®Œæ•´ç¤ºä¾‹ï¼‰ { \"id\": \"login_success\", \"name\": \"LoginSuccess\", \"description\": \"ç”¨æˆ·ç™»å½•æˆåŠŸå¹¶æå–token\", \"endpoint\": \"/wsms/pc/auth/login\", \"method\": \"POST\", \"headers\": { \"Content-Type\": \"application/json;charset=UTF-8\", \"Origin\": \"https://testntr.yaoshibang.cn\" }, \"requestBody\": \"{\\\"account\\\":\\\"admin\\\",\\\"password\\\":\\\"827ccb0eea8a706c4c34a16891f84e7b\\\",\\\"token\\\":\\\"\\\"}\", \"assertions\": { \"statusCode\": 200, \"body.code\": \"40001\" }, \"extractors\": [ { \"source\": \"response.body\", \"path\": \"data.token\", \"target\": \"authToken\", \"type\": \"string\" } ], \"groups\": [\"auth\", \"smoke\", \"critical\"] }, { \"id\": \"token_parameterized_apis\", \"name\": \"TokenParameterizedAPIs\", \"description\": \"ä½¿ç”¨ç™»å½•tokençš„å‚æ•°åŒ–APIæµ‹è¯•\", \"endpoint\": \"/wsms/pc/${endpoint}\", \"method\": \"POST\", \"headers\": { \"Content-Type\": \"application/json;charset=UTF-8\", \"Origin\": \"https://testntr.yaoshibang.cn\" }, \"testDataSets\": [ { \"data\": { \"endpoint\": \"user/getUserList\", \"bodyData\": \"{\\\"token\\\":\\\"${context.authToken}\\\",\\\"page\\\":1,\\\"size\\\":10}\", \"expectedCode\": \"40001\" } }, { \"data\": { \"endpoint\": \"role/getRoleList\", \"bodyData\": \"{\\\"token\\\":\\\"${context.authToken}\\\"}\", \"expectedCode\": \"40001\" } }, { \"data\": { \"endpoint\": \"menu/getMenuList\", \"bodyData\": \"{\\\"token\\\":\\\"${context.authToken}\\\"}\", \"expectedCode\": \"40001\" } } ], \"requestBody\": \"${bodyData}\", \"assertions\": { \"statusCode\": 200, \"body.code\": \"${expectedCode}\" }, \"dependsOn\": [\"login_success\"], \"groups\": [\"user\", \"role\", \"menu\", \"smoke\", \"critical\"] } æµ‹è¯•åˆ†ç»„æ‰§è¡Œç¤ºä¾‹ ä½¿ç”¨ä¸Šè¿°é…ç½®ï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹æ–¹å¼æ‰§è¡Œä¸åŒåœºæ™¯çš„æµ‹è¯•ï¼š\n# æ‰§è¡Œå†’çƒŸæµ‹è¯•ï¼ˆåŒ…å«ç™»å½•å’Œå…³é”®APIï¼‰ mvn test \"-Dtest=UnifiedApiTest\" \"-DtestGroup=smoke\" # ä»…æ‰§è¡Œè®¤è¯ç›¸å…³æµ‹è¯• mvn test \"-Dtest=UnifiedApiTest\" \"-DtestGroup=auth\" # æ‰§è¡Œç”¨æˆ·ç®¡ç†ç›¸å…³æµ‹è¯• mvn test \"-Dtest=UnifiedApiTest\" \"-DtestGroup=user\" # æ‰§è¡Œå•ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ˆä¼šè‡ªåŠ¨åŒ…å«ä¾èµ–ï¼‰ mvn test \"-Dtest=UnifiedApiTest\" \"-DtestId=token_parameterized_apis\" æ‰§è¡Œæµç¨‹è¯´æ˜ï¼š\né¦–å…ˆæ‰§è¡Œ login_success æµ‹è¯•ç”¨ä¾‹ï¼ŒæˆåŠŸåä»å“åº”ä¸­æå– authToken authToken è¢«å­˜å‚¨åˆ°æµ‹è¯•ä¸Šä¸‹æ–‡ä¸­ ç„¶åæ‰§è¡Œ token_parameterized_apis æµ‹è¯•ç”¨ä¾‹ï¼Œç”±äºé…ç½®äº† dependsOn: [\"login_success\"]ï¼Œç¡®ä¿ç™»å½•å…ˆæ‰§è¡Œ å‚æ•°åŒ–æµ‹è¯•ä¼šä½¿ç”¨3ç»„ä¸åŒçš„æ•°æ®åˆ†åˆ«æ‰§è¡Œï¼Œæ¯ç»„æ•°æ®ä¸­çš„ ${context.authToken} éƒ½ä¼šè¢«æ›¿æ¢ä¸ºå®é™…çš„tokenå€¼ æ‰€æœ‰APIè°ƒç”¨éƒ½ä½¿ç”¨åŒä¸€ä¸ªç™»å½•tokenï¼Œä½†æµ‹è¯•ä¸åŒçš„ç«¯ç‚¹å’Œå‚æ•° ç”Ÿæˆ Allure æŠ¥å‘Š è¦ç”Ÿæˆ Allure æŠ¥å‘Šï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ï¼š\nallure serve target/allure-results CI/CD é›†æˆ è¯¥é¡¹ç›®åŒ…å«ä¸€ä¸ª GitHub Actions å·¥ä½œæµï¼Œè¯¥å·¥ä½œæµåœ¨æ¯æ¬¡å‘ main åˆ†æ”¯æ¨é€ä»£ç æˆ–æäº¤æ‹‰å–è¯·æ±‚æ—¶éƒ½ä¼šè‡ªåŠ¨è¿è¡Œã€‚å®ƒå°†è‡ªåŠ¨æ‰§è¡Œæµ‹è¯•å¹¶ç”Ÿæˆ Allure æŠ¥å‘Šã€‚\nä¼˜åŠ¿ æµ‹è¯•ç”¨ä¾‹ä¸æ¥å£åˆ†ç¦»: æµ‹è¯•é€»è¾‘ä¸APIè°ƒç”¨é€»è¾‘å®Œå…¨åˆ†ç¦» é…ç½®é©±åŠ¨: é€šè¿‡JSONé…ç½®æ–‡ä»¶æ·»åŠ /ä¿®æ”¹æµ‹è¯•ç”¨ä¾‹ï¼Œæ— éœ€ç¼–ç  å¯æ‰©å±•æ€§: æ˜“äºæ‰©å±•æ”¯æŒå…¶ä»–æ•°æ®æºï¼ˆå¦‚Excelã€æ•°æ®åº“ç­‰ï¼‰ ç»´æŠ¤æ€§: APIå˜æ›´åªéœ€ä¿®æ”¹æœåŠ¡å±‚ï¼Œä¸å½±å“æµ‹è¯•ç”¨ä¾‹ ä¾èµ–ç®¡ç†: è‡ªåŠ¨å¤„ç†æµ‹è¯•ç”¨ä¾‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç¡®ä¿æ­£ç¡®çš„æ‰§è¡Œé¡ºåº æ•°æ®å…±äº«: æ”¯æŒåœ¨æµ‹è¯•ç”¨ä¾‹é—´å…±äº«æ•°æ®ï¼Œå®ç°å¤æ‚çš„æµ‹è¯•åœºæ™¯ å‚æ•°åŒ–æµ‹è¯•: å•ä¸ªæµ‹è¯•ç”¨ä¾‹æ”¯æŒå¤šç»„æµ‹è¯•æ•°æ®ï¼Œæé«˜æµ‹è¯•è¦†ç›–ç‡ åŠ¨æ€å˜é‡: å†…ç½®å¤šç§åŠ¨æ€å˜é‡ï¼Œæ”¯æŒçµæ´»çš„æµ‹è¯•æ•°æ®ç”Ÿæˆ ç»Ÿä¸€å…¥å£: æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ç»Ÿä¸€å…¥å£æ‰§è¡Œï¼Œç®€åŒ–æµ‹è¯•ç®¡ç† æ™ºèƒ½å¤±è´¥è¯Šæ–­: è‡ªåŠ¨è®°å½•å¤±è´¥æµ‹è¯•çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬URLã€è¯·æ±‚å‚æ•°ã€å“åº”å‚æ•°ç­‰ æ•°æ®åº“é›†æˆ: æ”¯æŒåœ¨æµ‹è¯•å‰åæ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢ï¼Œå®ç°æ•°æ®é©±åŠ¨çš„æµ‹è¯•åœºæ™¯ å…¨é¢æ–­è¨€æ”¯æŒ: æ”¯æŒå¤šç§æ–­è¨€ç±»å‹ï¼ŒåŒ…æ‹¬æ­£åˆ™åŒ¹é…ã€ç©ºå€¼æ£€æŸ¥ã€æ•°å€¼æ¯”è¾ƒç­‰ å¤±è´¥æ—¥å¿—è®°å½• å½“æµ‹è¯•ç”¨ä¾‹å¤±è´¥æ—¶ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨è®°å½•è¯¦ç»†çš„å¤±è´¥ä¿¡æ¯ï¼š\næ§åˆ¶å°è¾“å‡º: æ˜¾ç¤ºå®Œæ•´çš„å¤±è´¥è¯¦æƒ…ï¼ŒåŒ…æ‹¬URLã€è¯·æ±‚å¤´ã€è¯·æ±‚ä½“ã€å“åº”çŠ¶æ€ç ã€å“åº”å¤´ã€å“åº”ä½“ç­‰ æ—¥å¿—æ–‡ä»¶: æ‰€æœ‰å¤±è´¥ä¿¡æ¯åŒæ—¶è®°å½•åˆ° target/logs/test_failures.log æ–‡ä»¶ä¸­ï¼ˆUTF-8ç¼–ç ï¼Œæ”¯æŒä¸­æ–‡ï¼‰ è°ƒè¯•å‹å¥½: æä¾›å®Œæ•´çš„è¯·æ±‚/å“åº”ä¸Šä¸‹æ–‡ï¼Œä¾¿äºå¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜ å¤±è´¥æ—¥å¿—ç¤ºä¾‹ ================================================================================ âŒ æµ‹è¯•ç”¨ä¾‹å¤±è´¥: CustomAccountLogin ID: custom_account_login æè¿°: ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„11ä½è´¦å·ï¼ˆåŒ…å«ç‰¹æ®Šå­—ç¬¦ã€å­—ç¬¦ä¸²ã€è‹±æ–‡ç­‰ï¼‰è¿›è¡Œç™»å½•æµ‹è¯• -------------------------------------------------------------------------------- ğŸ“‹ è¯·æ±‚ä¿¡æ¯: URL: https://testntr.yaoshibang.cn/wsms/pc/auth/login æ–¹æ³•: POST è¯·æ±‚å¤´: Content-Type: application/json;charset=UTF-8 Origin: https://testntr.yaoshibang.cn è¯·æ±‚ä½“: {\"account\":\"${custom:account(length=11)}\",\"password\":\"${custom:password(length=12)}\",\"token\":\"\"} -------------------------------------------------------------------------------- ğŸ“‹ å“åº”ä¿¡æ¯: çŠ¶æ€ç : 200 å“åº”æ—¶é—´: 45ms å“åº”å¤´: Server: nginx Date: Wed, 19 Nov 2025 10:52:23 GMT Content-Type: application/json Transfer-Encoding: chunked Connection: keep-alive vary: origin,access-control-request-method,access-control-request-headers,accept-encoding access-control-allow-origin: * content-encoding: gzip x-envoy-upstream-service-time: 11 Cache-Control: no-cache å“åº”ä½“: {\"code\":\"40003\",\"message\":\"æ‰‹æœºå·ä¸å­˜åœ¨ï¼Œè¯·é‡æ–°è¾“å…¥æˆ–è”ç³»ç®¡ç†å‘˜\",\"data\":null} -------------------------------------------------------------------------------- âŒ å¤±è´¥åŸå› : 1 expectation failed. JSON path code doesn't match. Expected: 40001 Actual: 40003 ================================================================================ é¡¹ç›®æ€»ç»“ æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ REST Assured API è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼Œå…·æœ‰ä»¥ä¸‹æ ¸å¿ƒç‰¹æ€§ï¼š\næ ¸å¿ƒåŠŸèƒ½ HARæ–‡ä»¶è‡ªåŠ¨åŒ–: æ”¯æŒå°†æµè§ˆå™¨å½•åˆ¶çš„HARæ–‡ä»¶è‡ªåŠ¨è½¬æ¢ä¸ºå®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹ ç»Ÿä¸€é…ç½®ç®¡ç†: æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ unified_test_cases.json é›†ä¸­ç®¡ç† ä¾èµ–ç®¡ç†: æ”¯æŒæµ‹è¯•ç”¨ä¾‹é—´çš„ä¾èµ–å…³ç³»ï¼Œè‡ªåŠ¨è¿›è¡Œæ‹“æ‰‘æ’åº æ•°æ®æå–: ä»APIå“åº”ä¸­æå–æ•°æ®å¹¶å­˜å‚¨åˆ°æµ‹è¯•ä¸Šä¸‹æ–‡ï¼Œä¾›åç»­æµ‹è¯•ä½¿ç”¨ å‚æ•°åŒ–æµ‹è¯•: å•ä¸ªæµ‹è¯•ç”¨ä¾‹æ”¯æŒå¤šç»„æµ‹è¯•æ•°æ®ï¼Œæé«˜æµ‹è¯•è¦†ç›–ç‡ åŠ¨æ€å˜é‡: æ”¯æŒä¸Šä¸‹æ–‡å˜é‡ã€ç¯å¢ƒå˜é‡ã€å†…ç½®å˜é‡å’Œè‡ªå®šä¹‰å˜é‡ç”Ÿæˆå™¨ æ•°æ®åº“é›†æˆ: æ”¯æŒåœ¨æµ‹è¯•å‰åæ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢ï¼Œå®ç°å¤æ‚çš„æ•°æ®é©±åŠ¨åœºæ™¯ æ™ºèƒ½æ–­è¨€: æ”¯æŒå¤šç§æ–­è¨€ç±»å‹ï¼ŒåŒ…æ‹¬ç²¾ç¡®åŒ¹é…ã€åŒ…å«å­—ç¬¦ä¸²ã€æ­£åˆ™è¡¨è¾¾å¼ã€æ•°å€¼æ¯”è¾ƒç­‰ å¤±è´¥è¯Šæ–­: è‡ªåŠ¨è®°å½•å¤±è´¥æµ‹è¯•çš„è¯¦ç»†ä¿¡æ¯ï¼Œä¾¿äºè°ƒè¯•å’Œé—®é¢˜æ’æŸ¥ æŠ€æœ¯æ¶æ„ åˆ†å±‚è®¾è®¡: APIæœåŠ¡å±‚ã€æµ‹è¯•æ•°æ®æ¨¡å‹å±‚ã€æµ‹è¯•æœåŠ¡å±‚ã€æµ‹è¯•ç”¨ä¾‹å±‚ é…ç½®é©±åŠ¨: é€šè¿‡JSONé…ç½®æ–‡ä»¶å®šä¹‰æµ‹è¯•ç”¨ä¾‹ï¼Œæ— éœ€ä¿®æ”¹Javaä»£ç  ç»Ÿä¸€å…¥å£: æ‰€æœ‰æµ‹è¯•é€šè¿‡ UnifiedApiTest ç±»æ‰§è¡Œï¼Œç®€åŒ–æµ‹è¯•ç®¡ç† çº¿ç¨‹å®‰å…¨: ä½¿ç”¨ ThreadLocal ç¡®ä¿æµ‹è¯•ä¸Šä¸‹æ–‡çš„çº¿ç¨‹å®‰å…¨æ€§ UTF-8æ”¯æŒ: æ—¥å¿—æ–‡ä»¶ä½¿ç”¨UTF-8ç¼–ç ï¼Œæ­£ç¡®å¤„ç†ä¸­æ–‡å†…å®¹ ä½¿ç”¨åœºæ™¯ APIåŠŸèƒ½æµ‹è¯•: éªŒè¯APIçš„æ­£ç¡®æ€§å’Œç¨³å®šæ€§ å›å½’æµ‹è¯•: ç¡®ä¿ä»£ç å˜æ›´ä¸ä¼šç ´åç°æœ‰åŠŸèƒ½ é›†æˆæµ‹è¯•: éªŒè¯å¤šä¸ªAPIä¹‹é—´çš„é›†æˆå’Œæ•°æ®æµè½¬ æ€§èƒ½åŸºå‡†: é€šè¿‡å‚æ•°åŒ–æµ‹è¯•éªŒè¯ä¸åŒè´Ÿè½½ä¸‹çš„APIè¡¨ç° å®‰å…¨æµ‹è¯•: ä½¿ç”¨åŠ¨æ€å˜é‡ç”Ÿæˆå„ç§æµ‹è¯•æ•°æ®ï¼ŒéªŒè¯APIçš„å®‰å…¨æ€§ å¿«é€Ÿå¼€å§‹ é…ç½®æ•°æ®åº“è¿æ¥ï¼ˆå¯é€‰ï¼‰: ä¿®æ”¹ src/test/resources/database.properties æ·»åŠ æµ‹è¯•ç”¨ä¾‹: åœ¨ src/test/resources/testcases/unified_test_cases.json ä¸­å®šä¹‰æµ‹è¯• è¿è¡Œæµ‹è¯•: æ‰§è¡Œ mvn clean test æŸ¥çœ‹ç»“æœ: æ£€æŸ¥æ§åˆ¶å°è¾“å‡ºå’Œ target/logs/test_failures.log æ—¥å¿—æ–‡ä»¶ ç”ŸæˆæŠ¥å‘Š: ä½¿ç”¨ allure serve target/allure-results æŸ¥çœ‹è¯¦ç»†æµ‹è¯•æŠ¥å‘Š æœ¬æ¡†æ¶æ—¨åœ¨æä¾›ä¸€ä¸ªçµæ´»ã€å¯ç»´æŠ¤ã€åŠŸèƒ½å¼ºå¤§çš„APIè‡ªåŠ¨åŒ–æµ‹è¯•è§£å†³æ–¹æ¡ˆï¼Œå¸®åŠ©å›¢é˜Ÿæé«˜æµ‹è¯•æ•ˆç‡å’Œè½¯ä»¶è´¨é‡ã€‚\n","wordCount":"4902","inLanguage":"zh-cn","datePublished":"2025-11-20T23:59:32+08:00","dateModified":"2025-11-20T23:59:32+08:00","author":{"@type":"Person","name":"æ–°äººç±»"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://bluespace3.github.io/post.backup/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/java%E5%BF%AB%E9%80%9F%E7%94%9F%E6%88%90%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E9%A1%B9%E7%9B%AE/"},"publisher":{"@type":"Organization","name":"è“è‰²ç©ºé—´å·","logo":{"@type":"ImageObject","url":"https://bluespace3.github.io/favicon.ico"}}}</script></head><body id="top"><header class="header"><nav class="nav"><div class="logo"><a accesskey="h" href="https://bluespace3.github.io/" title="è“è‰²ç©ºé—´å· (Alt + H)">è“è‰²ç©ºé—´å·</a><div class="logo-switches"><button accesskey="t" aria-label="Toggle theme" id="theme-toggle" title="(Alt + T)">
<svg fill="none" height="18" id="moon" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path></svg>
<svg fill="none" height="18" id="sun" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24"><circle cx="12" cy="12" r="5"></circle><line x1="12" x2="12" y1="1" y2="3"></line><line x1="12" x2="12" y1="21" y2="23"></line><line x1="4.22" x2="5.64" y1="4.22" y2="5.64"></line><line x1="18.36" x2="19.78" y1="18.36" y2="19.78"></line><line x1="1" x2="3" y1="12" y2="12"></line><line x1="21" x2="23" y1="12" y2="12"></line><line x1="4.22" x2="5.64" y1="19.78" y2="18.36"></line><line x1="18.36" x2="19.78" y1="5.64" y2="4.22"></line></svg></button></div></div><ul id="menu"><li><a href="https://bluespace3.github.io/" title="é¦–é¡µ"><span>é¦–é¡µ</span></a></li><li><a href="https://bluespace3.github.io/post/" title="æ–‡ç« "><span>æ–‡ç« </span></a></li><li><a href="https://bluespace3.github.io/archives/" title="å½’æ¡£"><span>å½’æ¡£</span></a></li><li><a href="https://bluespace3.github.io/categories/" title="åˆ†ç±»"><span>åˆ†ç±»</span></a></li><li><a href="https://bluespace3.github.io/tags/" title="æ ‡ç­¾"><span>æ ‡ç­¾</span></a></li><li><a href="https://bluespace3.github.io/about/" title="å…³äº"><span>å…³äº</span></a></li></ul></nav></header><main class="main"><article class="post-single"><header class="post-header"><div class="breadcrumbs"><a href="https://bluespace3.github.io/">Home</a>Â Â»Â <a href="https://bluespace3.github.io/post.backup/">Post.backups</a></div><h1 class="post-title entry-hint-parent">javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›®</h1><div class="post-meta"><span title="2025-11-20 23:59:32 +0800 +0800">2025-11-20</span>Â Â·Â <span>10 min</span>Â Â·Â <span>4902 words</span>Â Â·Â <span>æ–°äººç±»</span></div></header><div class="toc"><details><summary accesskey="c" title="(Alt + C)"><span class="details">Table of Contents</span></summary><div class="inner"><nav id="TableOfContents"><ul><li><a href="#haræ–‡ä»¶è‡ªåŠ¨åŒ–æµ‹è¯•ç”Ÿæˆ">HARæ–‡ä»¶è‡ªåŠ¨åŒ–æµ‹è¯•ç”Ÿæˆ</a><ul><li><a href="#æ–‡ä»¶ç»“æ„è¯´æ˜">æ–‡ä»¶ç»“æ„è¯´æ˜</a></li><li><a href="#ä¼˜åŠ¿">ä¼˜åŠ¿</a></li></ul></li><li><a href="#è¯¦ç»†åŠŸèƒ½æŒ‡å—">è¯¦ç»†åŠŸèƒ½æŒ‡å—</a></li><li><a href="#é«˜çº§åŠŸèƒ½">é«˜çº§åŠŸèƒ½</a><ul><li><a href="#æµ‹è¯•ç”¨ä¾‹ä¾èµ–ç®¡ç†">æµ‹è¯•ç”¨ä¾‹ä¾èµ–ç®¡ç†</a></li><li><a href="#æµ‹è¯•åˆ†ç»„ç®¡ç†æ–°å¢åŠŸèƒ½">æµ‹è¯•åˆ†ç»„ç®¡ç†ï¼ˆæ–°å¢åŠŸèƒ½ï¼‰</a></li><li><a href="#æ•°æ®æå–ä¸ä¸Šä¸‹æ–‡å…±äº«">æ•°æ®æå–ä¸ä¸Šä¸‹æ–‡å…±äº«</a></li><li><a href="#å‚æ•°åŒ–æµ‹è¯•">å‚æ•°åŒ–æµ‹è¯•</a></li><li><a href="#åŠ¨æ€å˜é‡">åŠ¨æ€å˜é‡</a></li></ul></li><li><a href="#å‰ç½®æ¡ä»¶">å‰ç½®æ¡ä»¶</a></li><li><a href="#é¡¹ç›®æ¶æ„">é¡¹ç›®æ¶æ„</a><ul><li><a href="#1-api-æœåŠ¡å±‚-srcmainjavacomexampleapi">1. API æœåŠ¡å±‚ (<code>src/main/java/com/example/api/</code>)</a></li><li><a href="#2-æµ‹è¯•æ•°æ®æ¨¡å‹-srcmainjavacomexamplemodel">2. æµ‹è¯•æ•°æ®æ¨¡å‹ (<code>src/main/java/com/example/model/</code>)</a></li><li><a href="#3-æµ‹è¯•æœåŠ¡å±‚-srcmainjavacomexampleservice">3. æµ‹è¯•æœåŠ¡å±‚ (<code>src/main/java/com/example/service/</code>)</a></li><li><a href="#4-æµ‹è¯•ç”¨ä¾‹å±‚-srctestjavacomexampleapitest">4. æµ‹è¯•ç”¨ä¾‹å±‚ (<code>src/test/java/com/example/apitest/</code>)</a></li><li><a href="#5-æµ‹è¯•æ•°æ®æ–‡ä»¶-srctestresourcestestcases">5. æµ‹è¯•æ•°æ®æ–‡ä»¶ (<code>src/test/resources/testcases/</code>)</a></li></ul></li><li><a href="#è¿è¡Œæµ‹è¯•">è¿è¡Œæµ‹è¯•</a><ul><li><a href="#è¿è¡Œç»Ÿä¸€apiæµ‹è¯•">è¿è¡Œç»Ÿä¸€APIæµ‹è¯•</a></li><li><a href="#æ·»åŠ æ–°çš„æµ‹è¯•ç”¨ä¾‹">æ·»åŠ æ–°çš„æµ‹è¯•ç”¨ä¾‹</a></li><li><a href="#ç”Ÿæˆ-allure-æŠ¥å‘Š">ç”Ÿæˆ Allure æŠ¥å‘Š</a></li></ul></li><li><a href="#cicd-é›†æˆ">CI/CD é›†æˆ</a></li><li><a href="#ä¼˜åŠ¿-1">ä¼˜åŠ¿</a></li><li><a href="#å¤±è´¥æ—¥å¿—è®°å½•">å¤±è´¥æ—¥å¿—è®°å½•</a><ul><li><a href="#å¤±è´¥æ—¥å¿—ç¤ºä¾‹">å¤±è´¥æ—¥å¿—ç¤ºä¾‹</a></li></ul></li><li><a href="#é¡¹ç›®æ€»ç»“">é¡¹ç›®æ€»ç»“</a><ul><li><a href="#æ ¸å¿ƒåŠŸèƒ½">æ ¸å¿ƒåŠŸèƒ½</a></li><li><a href="#æŠ€æœ¯æ¶æ„">æŠ€æœ¯æ¶æ„</a></li><li><a href="#ä½¿ç”¨åœºæ™¯">ä½¿ç”¨åœºæ™¯</a></li><li><a href="#å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹</a></li></ul></li></ul></nav></div></details></div><div class="post-content"><h1 id="javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›®">javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›®<a aria-hidden="true" class="anchor" hidden="" href="#javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›®">#</a></h1><p>è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹é¡¹ç›®ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ TestNG å’Œ REST Assured è¿›è¡Œ API æµ‹è¯•ï¼Œå¹¶æ”¯æŒæµ‹è¯•ç”¨ä¾‹ä¸æ¥å£é€»è¾‘åˆ†ç¦»çš„æ¶æ„ã€‚</p><h2 id="haræ–‡ä»¶è‡ªåŠ¨åŒ–æµ‹è¯•ç”Ÿæˆ">HARæ–‡ä»¶è‡ªåŠ¨åŒ–æµ‹è¯•ç”Ÿæˆ<a aria-hidden="true" class="anchor" hidden="" href="#haræ–‡ä»¶è‡ªåŠ¨åŒ–æµ‹è¯•ç”Ÿæˆ">#</a></h2><p>é¡¹ç›®æ”¯æŒå°†æµè§ˆå™¨å½•åˆ¶çš„HARæ–‡ä»¶è‡ªåŠ¨è½¬æ¢ä¸ºå®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•å¥—ä»¶ï¼š</p><ul><li><strong>å•æ–‡ä»¶å¯¼å…¥</strong>: <code>import-har.bat your-file.har</code> æˆ– <code>import-har.ps1 your-file.har</code></li><li><strong>æ‰¹é‡å¯¼å…¥</strong>: <code>import-har.bat har-files-directory/</code> æˆ– <code>import-har.ps1 har-files-directory/</code></li><li><strong>ç‹¬ç«‹é…ç½®</strong>: æ¯ä¸ªHARæ–‡ä»¶ç”Ÿæˆå¯¹åº”çš„JSONæµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ï¼ˆå¦‚ <code>your-file_test_cases.json</code>ï¼‰</li><li><strong>ç»Ÿä¸€æ‰§è¡Œ</strong>: æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ç»Ÿä¸€çš„ <code>UnifiedApiTest</code> ç±»æ‰§è¡Œ</li><li><strong>ä¸€é”®è¿è¡Œ</strong>: ç”Ÿæˆçš„æµ‹è¯•å¯ç›´æ¥è¿è¡Œï¼Œæ— éœ€ä¿®æ”¹ä»£ç </li></ul><h3 id="æ–‡ä»¶ç»“æ„è¯´æ˜">æ–‡ä»¶ç»“æ„è¯´æ˜<a aria-hidden="true" class="anchor" hidden="" href="#æ–‡ä»¶ç»“æ„è¯´æ˜">#</a></h3><p>å¯¼å…¥HARæ–‡ä»¶åï¼Œé¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">src</span><span class="o">/</span><span class="n">test</span><span class="o">/</span><span class="n">resources</span><span class="o">/</span><span class="n">testcases</span><span class="o">/</span>
</span></span><span class="line"><span class="cl"><span class="err">â”œâ”€â”€</span> <span class="n">your</span><span class="o">-</span><span class="n">har</span><span class="o">-</span><span class="n">file1_test_cases</span><span class="o">.</span><span class="n">json</span>    <span class="c1"># HARæ–‡ä»¶1å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹</span>
</span></span><span class="line"><span class="cl"><span class="err">â”œâ”€â”€</span> <span class="n">your</span><span class="o">-</span><span class="n">har</span><span class="o">-</span><span class="n">file2_test_cases</span><span class="o">.</span><span class="n">json</span>    <span class="c1"># HARæ–‡ä»¶2å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹</span>
</span></span><span class="line"><span class="cl"><span class="err">â”œâ”€â”€</span> <span class="n">custom_variables_demo</span><span class="o">.</span><span class="n">json</span>        <span class="c1"># è‡ªå®šä¹‰å˜é‡ç¤ºä¾‹</span>
</span></span><span class="line"><span class="cl"><span class="err">â”œâ”€â”€</span> <span class="n">db_query_demo</span><span class="o">.</span><span class="n">json</span>               <span class="c1"># æ•°æ®åº“æŸ¥è¯¢ç¤ºä¾‹</span>
</span></span><span class="line"><span class="cl"><span class="err">â””â”€â”€</span> <span class="o">...</span>                              <span class="c1"># å…¶ä»–ç¤ºä¾‹æ–‡ä»¶</span>
</span></span></code></pre></div><p>æ¯ä¸ªHARæ–‡ä»¶éƒ½ä¼šç”Ÿæˆä¸€ä¸ªç‹¬ç«‹çš„JSONæ–‡ä»¶ï¼Œæ–‡ä»¶å‘½åè§„åˆ™ä¸ºï¼š<code>{haræ–‡ä»¶å}_test_cases.json</code></p><h3 id="ä¼˜åŠ¿">ä¼˜åŠ¿<a aria-hidden="true" class="anchor" hidden="" href="#ä¼˜åŠ¿">#</a></h3><ul><li><strong>æ¨¡å—åŒ–</strong>: æ¯ä¸ªHARæ–‡ä»¶å¯¹åº”ç‹¬ç«‹çš„æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ï¼Œä¾¿äºç®¡ç†å’Œç»´æŠ¤</li><li><strong>çµæ´»æ€§</strong>: å¯ä»¥å•ç‹¬ä¿®æ”¹æŸä¸ªHARæ–‡ä»¶å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹ï¼Œä¸å½±å“å…¶ä»–æµ‹è¯•</li><li><strong>å¯è¿½æº¯æ€§</strong>: æµ‹è¯•ç”¨ä¾‹ä¸åŸå§‹HARæ–‡ä»¶ä¸€ä¸€å¯¹åº”ï¼Œä¾¿äºè¿½è¸ªæ¥æº</li><li><strong>ç»Ÿä¸€æ‰§è¡Œ</strong>: æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ä»ç„¶é€šè¿‡ç»Ÿä¸€å…¥å£æ‰§è¡Œï¼Œä¿æŒæµ‹è¯•ç®¡ç†çš„ä¸€è‡´æ€§</li></ul><h2 id="è¯¦ç»†åŠŸèƒ½æŒ‡å—">è¯¦ç»†åŠŸèƒ½æŒ‡å—<a aria-hidden="true" class="anchor" hidden="" href="#è¯¦ç»†åŠŸèƒ½æŒ‡å—">#</a></h2><ul><li><strong><a href="DEPENDENCY_AND_DATA_DRIVEN_GUIDE.md">æµ‹è¯•ç”¨ä¾‹ä¾èµ–å’Œæ•°æ®é©±åŠ¨æµ‹è¯•æŒ‡å—</a></strong> - è¯¦ç»†è¯´æ˜å¦‚ä½•é…ç½®æµ‹è¯•ç”¨ä¾‹ä¾èµ–ã€å‚æ•°åŒ–æµ‹è¯•ã€æ•°æ®æå–å’ŒåŠ¨æ€å˜é‡</li><li><strong><a href="DATABASE_QUERY_GUIDE.md">æ•°æ®åº“æŸ¥è¯¢åŠŸèƒ½ä½¿ç”¨æŒ‡å—</a></strong> - è¯¦ç»†è¯´æ˜å¦‚ä½•é›†æˆæ•°æ®åº“æŸ¥è¯¢åŠŸèƒ½</li></ul><h2 id="é«˜çº§åŠŸèƒ½">é«˜çº§åŠŸèƒ½<a aria-hidden="true" class="anchor" hidden="" href="#é«˜çº§åŠŸèƒ½">#</a></h2><h3 id="æµ‹è¯•ç”¨ä¾‹ä¾èµ–ç®¡ç†">æµ‹è¯•ç”¨ä¾‹ä¾èµ–ç®¡ç†<a aria-hidden="true" class="anchor" hidden="" href="#æµ‹è¯•ç”¨ä¾‹ä¾èµ–ç®¡ç†">#</a></h3><p>æ”¯æŒæµ‹è¯•ç”¨ä¾‹ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç¡®ä¿ä¾èµ–çš„æµ‹è¯•ç”¨ä¾‹å…ˆæ‰§è¡Œã€‚é€šè¿‡ <code>dependsOn</code> å­—æ®µæŒ‡å®šä¾èµ–çš„æµ‹è¯•ç”¨ä¾‹IDã€‚</p><h3 id="æµ‹è¯•åˆ†ç»„ç®¡ç†æ–°å¢åŠŸèƒ½">æµ‹è¯•åˆ†ç»„ç®¡ç†ï¼ˆæ–°å¢åŠŸèƒ½ï¼‰<a aria-hidden="true" class="anchor" hidden="" href="#æµ‹è¯•åˆ†ç»„ç®¡ç†æ–°å¢åŠŸèƒ½">#</a></h3><p>æ”¯æŒå°†æµ‹è¯•ç”¨ä¾‹åˆ†é…åˆ°ä¸åŒçš„åˆ†ç»„ä¸­ï¼Œä¾¿äºæ‰¹é‡æ‰§è¡Œç‰¹å®šåœºæ™¯çš„æµ‹è¯•ã€‚</p><p><strong>é…ç½®æ–¹å¼</strong>ï¼šåœ¨æµ‹è¯•ç”¨ä¾‹JSONä¸­æ·»åŠ  <code>groups</code> å­—æ®µï¼š</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"id"</span><span class="p">:</span> <span class="s2">"POST__wsms_pc_auth_login"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"postWsmsPcAuthLogin"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"description"</span><span class="p">:</span> <span class="s2">"ç”¨æˆ·ç™»å½•æ¥å£"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"endpoint"</span><span class="p">:</span> <span class="s2">"/wsms/pc/auth/login"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"groups"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"auth"</span><span class="p">,</span> <span class="s2">"smoke"</span><span class="p">,</span> <span class="s2">"critical"</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// ... å…¶ä»–å­—æ®µ
</span></span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><strong>å¸¸ç”¨åˆ†ç»„æ ‡ç­¾</strong>ï¼š</p><ul><li><code>smoke</code>: å†’çƒŸæµ‹è¯•ï¼Œæ ¸å¿ƒåŠŸèƒ½éªŒè¯</li><li><code>critical</code>: å…³é”®è·¯å¾„ï¼Œå¿…é¡»é€šè¿‡çš„æµ‹è¯•</li><li><code>regression</code>: å›å½’æµ‹è¯•ï¼Œè¦†ç›–æ‰€æœ‰åŠŸèƒ½</li><li><code>auth</code>: è®¤è¯ç›¸å…³æµ‹è¯•</li><li><code>menu</code>: èœå•/å¯¼èˆªæµ‹è¯•</li><li><code>goods</code>: å•†å“ç®¡ç†æµ‹è¯•</li><li><code>price</code>: ä»·æ ¼ç›¸å…³æµ‹è¯•</li><li><code>user</code>: ç”¨æˆ·ç®¡ç†æµ‹è¯•</li></ul><p><strong>æ‰§è¡Œåˆ†ç»„æµ‹è¯•</strong>ï¼š</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># æ‰§è¡Œå†’çƒŸæµ‹è¯•</span>
</span></span><span class="line"><span class="cl">mvn <span class="nb">test</span> <span class="s2">"-Dtest=UnifiedApiTest"</span> <span class="s2">"-DtestGroup=smoke"</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æ‰§è¡Œå…³é”®è·¯å¾„æµ‹è¯•</span>
</span></span><span class="line"><span class="cl">mvn <span class="nb">test</span> <span class="s2">"-Dtest=UnifiedApiTest"</span> <span class="s2">"-DtestGroup=critical"</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æ‰§è¡Œå•†å“ç›¸å…³æµ‹è¯•</span>
</span></span><span class="line"><span class="cl">mvn <span class="nb">test</span> <span class="s2">"-Dtest=UnifiedApiTest"</span> <span class="s2">"-DtestGroup=goods"</span>
</span></span></code></pre></div><p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p><ul><li>ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹å¯ä»¥å±äºå¤šä¸ªåˆ†ç»„</li><li>åˆ†ç»„æ‰§è¡Œæ—¶ä¼šè‡ªåŠ¨åŒ…å«ä¾èµ–çš„æµ‹è¯•ç”¨ä¾‹</li><li>è‡ªåŠ¨ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹ä¸ä¼šåŒ…å«ç©ºçš„ <code>groups</code> å­—æ®µï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ </li><li>å¦‚æœæµ‹è¯•ç”¨ä¾‹æ²¡æœ‰ <code>groups</code> å­—æ®µï¼Œåˆ™ä¸ä¼šè¢«ä»»ä½•åˆ†ç»„åŒ…å«</li></ul><h3 id="æ•°æ®æå–ä¸ä¸Šä¸‹æ–‡å…±äº«">æ•°æ®æå–ä¸ä¸Šä¸‹æ–‡å…±äº«<a aria-hidden="true" class="anchor" hidden="" href="#æ•°æ®æå–ä¸ä¸Šä¸‹æ–‡å…±äº«">#</a></h3><p>æ”¯æŒä»APIå“åº”ä¸­æå–æ•°æ®å¹¶å­˜å‚¨åˆ°æµ‹è¯•ä¸Šä¸‹æ–‡ä¸­ï¼Œä¾›åç»­æµ‹è¯•ç”¨ä¾‹ä½¿ç”¨ã€‚é€šè¿‡ <code>extractors</code> å­—æ®µé…ç½®æ•°æ®æå–è§„åˆ™ã€‚</p><h3 id="å‚æ•°åŒ–æµ‹è¯•">å‚æ•°åŒ–æµ‹è¯•<a aria-hidden="true" class="anchor" hidden="" href="#å‚æ•°åŒ–æµ‹è¯•">#</a></h3><p>æ”¯æŒå•ä¸ªæµ‹è¯•ç”¨ä¾‹ä½¿ç”¨å¤šç»„æµ‹è¯•æ•°æ®è¿›è¡Œå‚æ•°åŒ–æµ‹è¯•ã€‚é€šè¿‡ <code>testDataSets</code> å­—æ®µå®šä¹‰å¤šç»„æµ‹è¯•æ•°æ®ã€‚</p><h3 id="åŠ¨æ€å˜é‡">åŠ¨æ€å˜é‡<a aria-hidden="true" class="anchor" hidden="" href="#åŠ¨æ€å˜é‡">#</a></h3><p>æ”¯æŒå¤šç§åŠ¨æ€å˜é‡ï¼ŒåŒ…æ‹¬ï¼š</p><h4 id="åŸºç¡€åŠ¨æ€å˜é‡">åŸºç¡€åŠ¨æ€å˜é‡<a aria-hidden="true" class="anchor" hidden="" href="#åŸºç¡€åŠ¨æ€å˜é‡">#</a></h4><ul><li><strong>ä¸Šä¸‹æ–‡å˜é‡</strong>: <code>${context.variableName}</code> - ä»æµ‹è¯•ä¸Šä¸‹æ–‡ä¸­è·å–</li><li><strong>ç¯å¢ƒå˜é‡</strong>: <code>${env.VARIABLE_NAME}</code> - ä»ç³»ç»Ÿç¯å¢ƒå˜é‡è·å–</li><li><strong>å†…ç½®å˜é‡</strong>:<ul><li><code>${timestamp}</code> - å½“å‰æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰</li><li><code>${timestamp_sec}</code> - å½“å‰æ—¶é—´æˆ³ï¼ˆç§’ï¼‰</li><li><code>${uuid}</code> - éšæœºUUID</li><li><code>${date}</code> - å½“å‰æ—¥æœŸï¼ˆYYYY-MM-DDï¼‰</li><li><code>${datetime}</code> - å½“å‰æ—¥æœŸæ—¶é—´</li><li><code>${random}</code> - éšæœºå°æ•°</li></ul></li></ul><h4 id="è‡ªå®šä¹‰å˜é‡ç”Ÿæˆå™¨">è‡ªå®šä¹‰å˜é‡ç”Ÿæˆå™¨<a aria-hidden="true" class="anchor" hidden="" href="#è‡ªå®šä¹‰å˜é‡ç”Ÿæˆå™¨">#</a></h4><p>æ”¯æŒç”Ÿæˆç¬¦åˆç‰¹å®šè§„åˆ™çš„æµ‹è¯•æ•°æ®ï¼Œæ ¼å¼ï¼š<code>${custom:ç±»å‹(å‚æ•°)}</code></p><p><strong>æ”¯æŒçš„ç±»å‹ï¼š</strong></p><ul><li><code>${custom:account}</code> æˆ– <code>${custom:username}</code> - ç”Ÿæˆ11ä½è´¦å·ï¼ˆåŒ…å«å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦ï¼‰</li><li><code>${custom:password}</code> - ç”Ÿæˆ12ä½å¯†ç ï¼ˆåŒ…å«å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦ï¼‰</li><li><code>${custom:email}</code> - ç”Ÿæˆéšæœºé‚®ç®±åœ°å€</li><li><code>${custom:phone}</code> - ç”Ÿæˆéšæœºæ‰‹æœºå·</li><li><code>${custom:random_string}</code> - ç”Ÿæˆéšæœºå­—ç¬¦ä¸²</li><li><code>${custom:chinese_name}</code> - ç”Ÿæˆéšæœºä¸­æ–‡å§“å</li></ul><p><strong>å‚æ•°æ”¯æŒï¼š</strong></p><ul><li><code>length=N</code> æˆ– <code>len=N</code> - æŒ‡å®šç”Ÿæˆå­—ç¬¦ä¸²çš„é•¿åº¦</li></ul><p><strong>ç¤ºä¾‹ï¼š</strong></p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"requestBody"</span><span class="p">:</span> <span class="s2">"{\"account\":\"${custom:account(length=11)}\",\"password\":\"${custom:password(length=12)}\"}"</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="æ•°æ®åº“æŸ¥è¯¢æ”¯æŒ">æ•°æ®åº“æŸ¥è¯¢æ”¯æŒ<a aria-hidden="true" class="anchor" hidden="" href="#æ•°æ®åº“æŸ¥è¯¢æ”¯æŒ">#</a></h4><p>æ”¯æŒä»æ•°æ®åº“æŸ¥è¯¢æ•°æ®ä½œä¸ºæµ‹è¯•å‚æ•°æˆ–æ–­è¨€æ•°æ®ã€‚</p><p><strong>æ•°æ®åº“é…ç½®</strong>:
åœ¨ <code>src/test/resources/database.properties</code> ä¸­é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯ã€‚</p><p><strong>æµ‹è¯•ç”¨ä¾‹é…ç½®å­—æ®µ</strong>:</p><ul><li><code>dbQuery</code>: SQLæŸ¥è¯¢è¯­å¥</li><li><code>dbQueryParams</code>: æŸ¥è¯¢å‚æ•°æ•°ç»„</li><li><code>dbResultTarget</code>: æŸ¥è¯¢ç»“æœå­˜å‚¨çš„ä¸Šä¸‹æ–‡å˜é‡å</li><li><code>dbQueryBeforeRequest</code>: true=è¯·æ±‚å‰æŸ¥è¯¢ï¼Œfalse=è¯·æ±‚åæŸ¥è¯¢</li></ul><p><strong>ç¤ºä¾‹</strong>:</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"id"</span><span class="p">:</span> <span class="s2">"db_query_example"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"dbQuery"</span><span class="p">:</span> <span class="s2">"SELECT username, email FROM users WHERE id = ?"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"dbQueryParams"</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"dbResultTarget"</span><span class="p">:</span> <span class="s2">"userInfo"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"dbQueryBeforeRequest"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"endpoint"</span><span class="p">:</span> <span class="s2">"/api/users/${context.userInfo.username}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"assertions"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"body.email"</span><span class="p">:</span> <span class="s2">"${context.userInfo.email}"</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="å‰ç½®æ¡ä»¶">å‰ç½®æ¡ä»¶<a aria-hidden="true" class="anchor" hidden="" href="#å‰ç½®æ¡ä»¶">#</a></h2><ul><li>Java 8+</li><li>Maven</li></ul><h2 id="é¡¹ç›®æ¶æ„">é¡¹ç›®æ¶æ„<a aria-hidden="true" class="anchor" hidden="" href="#é¡¹ç›®æ¶æ„">#</a></h2><p>æœ¬é¡¹ç›®é‡‡ç”¨åˆ†å±‚æ¶æ„è®¾è®¡ï¼š</p><h3 id="1-api-æœåŠ¡å±‚-srcmainjavacomexampleapi">1. API æœåŠ¡å±‚ (<code>src/main/java/com/example/api/</code>)<a aria-hidden="true" class="anchor" hidden="" href="#1-api-æœåŠ¡å±‚-srcmainjavacomexampleapi">#</a></h3><ul><li><strong>ApiClient.java</strong>: é€šç”¨ API å®¢æˆ·ç«¯é…ç½®</li><li><strong>UserService.java</strong>: ç”¨æˆ·ç›¸å…³ API æœåŠ¡å°è£…</li><li><strong>dto/</strong>: æ•°æ®ä¼ è¾“å¯¹è±¡</li></ul><h3 id="2-æµ‹è¯•æ•°æ®æ¨¡å‹-srcmainjavacomexamplemodel">2. æµ‹è¯•æ•°æ®æ¨¡å‹ (<code>src/main/java/com/example/model/</code>)<a aria-hidden="true" class="anchor" hidden="" href="#2-æµ‹è¯•æ•°æ®æ¨¡å‹-srcmainjavacomexamplemodel">#</a></h3><ul><li><strong>TestCase.java</strong>: æµ‹è¯•ç”¨ä¾‹æ•°æ®æ¨¡å‹ï¼ˆæ”¯æŒä¾èµ–ã€å‚æ•°åŒ–ã€æ•°æ®æå–ï¼‰</li><li><strong>TestDataSet.java</strong>: æµ‹è¯•æ•°æ®é›†æ¨¡å‹ï¼ˆç”¨äºå‚æ•°åŒ–æµ‹è¯•ï¼‰</li><li><strong>DataExtractor.java</strong>: æ•°æ®æå–å™¨æ¨¡å‹</li></ul><h3 id="3-æµ‹è¯•æœåŠ¡å±‚-srcmainjavacomexampleservice">3. æµ‹è¯•æœåŠ¡å±‚ (<code>src/main/java/com/example/service/</code>)<a aria-hidden="true" class="anchor" hidden="" href="#3-æµ‹è¯•æœåŠ¡å±‚-srcmainjavacomexampleservice">#</a></h3><ul><li><strong>TestDataLoader.java</strong>: æµ‹è¯•æ•°æ®åŠ è½½å™¨ï¼ˆæ”¯æŒJSONæ ¼å¼ï¼‰</li><li><strong>TestExecutor.java</strong>: æµ‹è¯•æ‰§è¡Œå™¨ï¼ˆæ”¯æŒå‚æ•°åŒ–å’Œæ•°æ®æå–ï¼‰</li><li><strong>TestContext.java</strong>: æµ‹è¯•ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼ˆç”¨äºæ•°æ®å…±äº«ï¼‰</li><li><strong>VariableResolver.java</strong>: å˜é‡è§£æå™¨ï¼ˆæ”¯æŒåŠ¨æ€å˜é‡ï¼‰</li><li><strong>TestExecutionManager.java</strong>: æµ‹è¯•æ‰§è¡Œç®¡ç†å™¨ï¼ˆå¤„ç†ä¾èµ–æ’åºï¼‰</li><li><strong>UnifiedTestDataLoader.java</strong>: ç»Ÿä¸€æµ‹è¯•æ•°æ®åŠ è½½å™¨</li></ul><h3 id="4-æµ‹è¯•ç”¨ä¾‹å±‚-srctestjavacomexampleapitest">4. æµ‹è¯•ç”¨ä¾‹å±‚ (<code>src/test/java/com/example/apitest/</code>)<a aria-hidden="true" class="anchor" hidden="" href="#4-æµ‹è¯•ç”¨ä¾‹å±‚-srctestjavacomexampleapitest">#</a></h3><ul><li><strong>BaseTest.java</strong>: ä¼ ç»Ÿæµ‹è¯•åŸºç±»</li><li><strong>UserApiTest.java</strong>: ä¼ ç»Ÿæµ‹è¯•ç”¨ä¾‹</li><li><strong>DataDrivenBaseTest.java</strong>: æ•°æ®é©±åŠ¨æµ‹è¯•åŸºç±»</li><li><strong>UnifiedApiTest.java</strong>: ç»Ÿä¸€APIæµ‹è¯•ç±»ï¼ˆæ”¯æŒä¾èµ–ç®¡ç†ã€å‚æ•°åŒ–ã€æ•°æ®æå–ï¼‰</li></ul><h3 id="5-æµ‹è¯•æ•°æ®æ–‡ä»¶-srctestresourcestestcases">5. æµ‹è¯•æ•°æ®æ–‡ä»¶ (<code>src/test/resources/testcases/</code>)<a aria-hidden="true" class="anchor" hidden="" href="#5-æµ‹è¯•æ•°æ®æ–‡ä»¶-srctestresourcestestcases">#</a></h3><ul><li><strong>unified_test_cases.json</strong>: ç»Ÿä¸€JSONæ ¼å¼æµ‹è¯•ç”¨ä¾‹æ•°æ®ï¼ˆæ”¯æŒä¾èµ–ã€å‚æ•°åŒ–ã€æ•°æ®æå–ï¼‰</li><li><strong>database.properties</strong>: æ•°æ®åº“è¿æ¥é…ç½®æ–‡ä»¶</li></ul><h2 id="è¿è¡Œæµ‹è¯•">è¿è¡Œæµ‹è¯•<a aria-hidden="true" class="anchor" hidden="" href="#è¿è¡Œæµ‹è¯•">#</a></h2><h3 id="è¿è¡Œç»Ÿä¸€apiæµ‹è¯•">è¿è¡Œç»Ÿä¸€APIæµ‹è¯•<a aria-hidden="true" class="anchor" hidden="" href="#è¿è¡Œç»Ÿä¸€apiæµ‹è¯•">#</a></h3><p>æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ç°åœ¨éƒ½é€šè¿‡ <code>UnifiedApiTest</code> ç±»æ‰§è¡Œï¼Œæ”¯æŒå¤šç§è¿è¡Œæ¨¡å¼ï¼š</p><h4 id="1-è¿è¡Œæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹">1. è¿è¡Œæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹<a aria-hidden="true" class="anchor" hidden="" href="#1-è¿è¡Œæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹">#</a></h4><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mvn clean <span class="nb">test</span>
</span></span></code></pre></div><h4 id="2-è¿è¡Œå•ä¸ªæµ‹è¯•ç”¨ä¾‹">2. è¿è¡Œå•ä¸ªæµ‹è¯•ç”¨ä¾‹<a aria-hidden="true" class="anchor" hidden="" href="#2-è¿è¡Œå•ä¸ªæµ‹è¯•ç”¨ä¾‹">#</a></h4><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Windows PowerShell</span>
</span></span><span class="line"><span class="cl">mvn <span class="nb">test</span> <span class="s2">"-Dtest=UnifiedApiTest"</span> <span class="s2">"-DtestId=POST__wsms_pc_auth_login"</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Windows CMD</span>
</span></span><span class="line"><span class="cl">mvn <span class="nb">test</span> -Dtest<span class="o">=</span>UnifiedApiTest -DtestId<span class="o">=</span>POST__wsms_pc_auth_login
</span></span></code></pre></div><h4 id="3-è¿è¡ŒæŒ‡å®šåˆ†ç»„çš„æµ‹è¯•ç”¨ä¾‹">3. è¿è¡ŒæŒ‡å®šåˆ†ç»„çš„æµ‹è¯•ç”¨ä¾‹<a aria-hidden="true" class="anchor" hidden="" href="#3-è¿è¡ŒæŒ‡å®šåˆ†ç»„çš„æµ‹è¯•ç”¨ä¾‹">#</a></h4><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Windows PowerShell</span>
</span></span><span class="line"><span class="cl">mvn <span class="nb">test</span> <span class="s2">"-Dtest=UnifiedApiTest"</span> <span class="s2">"-DtestGroup=smoke"</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Windows CMD</span>
</span></span><span class="line"><span class="cl">mvn <span class="nb">test</span> -Dtest<span class="o">=</span>UnifiedApiTest -DtestGroup<span class="o">=</span>critical
</span></span></code></pre></div><p>æµ‹è¯•æ¡†æ¶ä¼šè‡ªåŠ¨ï¼š</p><ul><li>åŠ è½½æ‰€æœ‰JSONæµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ä¸­çš„æµ‹è¯•ç”¨ä¾‹</li><li>æ ¹æ®ä¾èµ–å…³ç³»å¯¹æµ‹è¯•ç”¨ä¾‹è¿›è¡Œæ’åº</li><li>æ‰§è¡Œå‚æ•°åŒ–æµ‹è¯•ï¼ˆå¦‚æœé…ç½®äº† <code>testDataSets</code>ï¼‰</li><li>å¤„ç†æ•°æ®æå–å’Œä¸Šä¸‹æ–‡å…±äº«</li><li>è§£æåŠ¨æ€å˜é‡</li><li><strong>è‡ªåŠ¨å¤„ç†ä¾èµ–</strong>ï¼šå½“è¿è¡Œå•ä¸ªç”¨ä¾‹æˆ–åˆ†ç»„æ—¶ï¼Œä¼šè‡ªåŠ¨åŒ…å«å¹¶æ‰§è¡Œå…¶ä¾èµ–çš„æµ‹è¯•ç”¨ä¾‹</li></ul><p>æ— éœ€ä¿®æ”¹ <code>testng.xml</code>ï¼Œæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹éƒ½é€šè¿‡ç»Ÿä¸€å…¥å£æ‰§è¡Œã€‚</p><h3 id="æ·»åŠ æ–°çš„æµ‹è¯•ç”¨ä¾‹">æ·»åŠ æ–°çš„æµ‹è¯•ç”¨ä¾‹<a aria-hidden="true" class="anchor" hidden="" href="#æ·»åŠ æ–°çš„æµ‹è¯•ç”¨ä¾‹">#</a></h3><p>æœ‰å¤šç§æ–¹å¼æ·»åŠ æ–°çš„æµ‹è¯•ç”¨ä¾‹ï¼š</p><h4 id="1-haræ–‡ä»¶å¯¼å…¥æ¨è">1. HARæ–‡ä»¶å¯¼å…¥ï¼ˆæ¨èï¼‰<a aria-hidden="true" class="anchor" hidden="" href="#1-haræ–‡ä»¶å¯¼å…¥æ¨è">#</a></h4><p>ä½¿ç”¨HARæ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼š</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Windows PowerShell</span>
</span></span><span class="line"><span class="cl">.<span class="se">\i</span>mport-har.ps1 your-api-recording.har
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Windows CMD</span>
</span></span><span class="line"><span class="cl">import-har.bat your-api-recording.har
</span></span></code></pre></div><h4 id="2-æ‰‹åŠ¨åˆ›å»ºjsonæ–‡ä»¶">2. æ‰‹åŠ¨åˆ›å»ºJSONæ–‡ä»¶<a aria-hidden="true" class="anchor" hidden="" href="#2-æ‰‹åŠ¨åˆ›å»ºjsonæ–‡ä»¶">#</a></h4><p>åœ¨ <code>src/test/resources/testcases/</code> ç›®å½•ä¸‹åˆ›å»ºæ–°çš„JSONæ–‡ä»¶ï¼Œä¾‹å¦‚ <code>my-api-test.json</code>ï¼š</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"testCases"</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"id"</span><span class="p">:</span> <span class="s2">"my_test_case"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"MyTestCase"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"description"</span><span class="p">:</span> <span class="s2">"æˆ‘çš„æµ‹è¯•ç”¨ä¾‹æè¿°"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"endpoint"</span><span class="p">:</span> <span class="s2">"/api/my-endpoint"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"headers"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"requestBody"</span><span class="p">:</span> <span class="s2">"{\"param1\":\"value1\"}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"assertions"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">"statusCode"</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">"body.success"</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="3-ä¿®æ”¹ç°æœ‰jsonæ–‡ä»¶">3. ä¿®æ”¹ç°æœ‰JSONæ–‡ä»¶<a aria-hidden="true" class="anchor" hidden="" href="#3-ä¿®æ”¹ç°æœ‰jsonæ–‡ä»¶">#</a></h4><p>ç›´æ¥ç¼–è¾‘ <code>src/test/resources/testcases/</code> ç›®å½•ä¸‹çš„ä»»ä½•JSONæ–‡ä»¶ï¼Œæ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯•ç”¨ä¾‹ã€‚</p><p><strong>æ³¨æ„</strong>: æ‰€æœ‰JSONæ–‡ä»¶éƒ½ä¼šè¢«è‡ªåŠ¨åŠ è½½ï¼Œæ— éœ€ä¿®æ”¹Javaä»£ç æˆ–testng.xmlæ–‡ä»¶ã€‚</p><h4 id="åŸºç¡€æµ‹è¯•ç”¨ä¾‹">åŸºç¡€æµ‹è¯•ç”¨ä¾‹<a aria-hidden="true" class="anchor" hidden="" href="#åŸºç¡€æµ‹è¯•ç”¨ä¾‹">#</a></h4><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"id"</span><span class="p">:</span> <span class="s2">"TC004"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"newTestName"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"description"</span><span class="p">:</span> <span class="s2">"æµ‹è¯•æè¿°"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"endpoint"</span><span class="p">:</span> <span class="s2">"/users/{id}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"pathParam"</span><span class="p">:</span> <span class="s2">"3"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"headers"</span><span class="p">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"requestBody"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"assertions"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"statusCode"</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"body.name"</span><span class="p">:</span> <span class="s2">"é¢„æœŸç”¨æˆ·å"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"body.email"</span><span class="p">:</span> <span class="s2">"containsString:@"</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="æ”¯æŒçš„æ–­è¨€ç±»å‹">æ”¯æŒçš„æ–­è¨€ç±»å‹<a aria-hidden="true" class="anchor" hidden="" href="#æ”¯æŒçš„æ–­è¨€ç±»å‹">#</a></h4><ul><li><strong>statusCode</strong>: HTTPçŠ¶æ€ç  (æ•°å­—)</li><li><strong>body.xxx</strong>: JSONè·¯å¾„æ–­è¨€ï¼Œæ”¯æŒä»¥ä¸‹ç‰¹æ®Šå€¼ï¼š<ul><li><code>"æ™®é€šå€¼"</code>: ç²¾ç¡®åŒ¹é…</li><li><code>"containsString:æ–‡æœ¬"</code>: åŒ…å«æŒ‡å®šæ–‡æœ¬</li><li><code>"matchesRegex:æ­£åˆ™è¡¨è¾¾å¼"</code>: æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</li><li><code>"notNull"</code>: éç©ºå€¼æ£€æŸ¥</li><li><code>"null"</code>: ç©ºå€¼æ£€æŸ¥</li><li><code>"empty"</code>: ç©ºå­—ç¬¦ä¸²æˆ–ç©ºé›†åˆ</li><li><code>"notEmpty"</code>: éç©ºå­—ç¬¦ä¸²æˆ–éç©ºé›†åˆ</li><li><code>"&gt;æ•°å­—"</code>: å¤§äºæŒ‡å®šæ•°å­—</li><li><code>"&lt;æ•°å­—"</code>: å°äºæŒ‡å®šæ•°å­—</li><li><code>"&gt;=æ•°å­—"</code>: å¤§äºç­‰äºæŒ‡å®šæ•°å­—</li><li><code>"&lt;=æ•°å­—"</code>: å°äºç­‰äºæŒ‡å®šæ•°å­—</li><li><code>"in:å€¼1,å€¼2,å€¼3"</code>: å€¼åœ¨æŒ‡å®šåˆ—è¡¨ä¸­</li><li><code>"hasSize:æ•°å­—"</code>: é›†åˆå¤§å°æ£€æŸ¥</li></ul></li></ul><h4 id="å¸¦ä¾èµ–çš„æµ‹è¯•ç”¨ä¾‹">å¸¦ä¾èµ–çš„æµ‹è¯•ç”¨ä¾‹<a aria-hidden="true" class="anchor" hidden="" href="#å¸¦ä¾èµ–çš„æµ‹è¯•ç”¨ä¾‹">#</a></h4><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"id"</span><span class="p">:</span> <span class="s2">"get_user_profile"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"GetUserProfile"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"description"</span><span class="p">:</span> <span class="s2">"è·å–ç”¨æˆ·ä¸ªäººèµ„æ–™ï¼ˆä¾èµ–ç™»å½•ï¼‰"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"endpoint"</span><span class="p">:</span> <span class="s2">"/api/user/profile"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"headers"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"Authorization"</span><span class="p">:</span> <span class="s2">"Bearer ${context.authToken}"</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"assertions"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"statusCode"</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"body.userId"</span><span class="p">:</span> <span class="s2">"${context.userId}"</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"dependsOn"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"login_success"</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="å‚æ•°åŒ–æµ‹è¯•ç”¨ä¾‹">å‚æ•°åŒ–æµ‹è¯•ç”¨ä¾‹<a aria-hidden="true" class="anchor" hidden="" href="#å‚æ•°åŒ–æµ‹è¯•ç”¨ä¾‹">#</a></h4><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"id"</span><span class="p">:</span> <span class="s2">"search_products"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"SearchProducts"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"description"</span><span class="p">:</span> <span class="s2">"æœç´¢äº§å“æµ‹è¯•"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"endpoint"</span><span class="p">:</span> <span class="s2">"/api/products/search"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"headers"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"testDataSets"</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"data"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">"keyword"</span><span class="p">:</span> <span class="s2">"laptop"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">"category"</span><span class="p">:</span> <span class="s2">"electronics"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">"expectedCount"</span><span class="p">:</span> <span class="s2">"10"</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"data"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">"keyword"</span><span class="p">:</span> <span class="s2">"book"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">"category"</span><span class="p">:</span> <span class="s2">"books"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">"expectedCount"</span><span class="p">:</span> <span class="s2">"5"</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"requestBody"</span><span class="p">:</span> <span class="s2">"{\"keyword\": \"${keyword}\", \"category\": \"${category}\"}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"assertions"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"statusCode"</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"body.total"</span><span class="p">:</span> <span class="s2">"${expectedCount}"</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="æ•°æ®æå–æµ‹è¯•ç”¨ä¾‹">æ•°æ®æå–æµ‹è¯•ç”¨ä¾‹<a aria-hidden="true" class="anchor" hidden="" href="#æ•°æ®æå–æµ‹è¯•ç”¨ä¾‹">#</a></h4><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"id"</span><span class="p">:</span> <span class="s2">"login_and_extract"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"LoginAndExtract"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"description"</span><span class="p">:</span> <span class="s2">"ç™»å½•å¹¶æå–è®¤è¯ä»¤ç‰Œ"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"endpoint"</span><span class="p">:</span> <span class="s2">"/api/auth/login"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"headers"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"requestBody"</span><span class="p">:</span> <span class="s2">"{\"username\": \"test\", \"password\": \"password\"}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"assertions"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"statusCode"</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"body.status"</span><span class="p">:</span> <span class="s2">"success"</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"extractors"</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"source"</span><span class="p">:</span> <span class="s2">"response.body"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"path"</span><span class="p">:</span> <span class="s2">"data.token"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"target"</span><span class="p">:</span> <span class="s2">"authToken"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"string"</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"source"</span><span class="p">:</span> <span class="s2">"response.body"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"path"</span><span class="p">:</span> <span class="s2">"data.userId"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"target"</span><span class="p">:</span> <span class="s2">"userId"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"string"</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="åŠ¨æ€å˜é‡æµ‹è¯•ç”¨ä¾‹">åŠ¨æ€å˜é‡æµ‹è¯•ç”¨ä¾‹<a aria-hidden="true" class="anchor" hidden="" href="#åŠ¨æ€å˜é‡æµ‹è¯•ç”¨ä¾‹">#</a></h4><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"id"</span><span class="p">:</span> <span class="s2">"dynamic_request"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"DynamicRequest"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"description"</span><span class="p">:</span> <span class="s2">"ä½¿ç”¨åŠ¨æ€å˜é‡çš„è¯·æ±‚"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"endpoint"</span><span class="p">:</span> <span class="s2">"/api/logs/${timestamp}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"headers"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"X-Request-ID"</span><span class="p">:</span> <span class="s2">"${uuid}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"X-Client-Time"</span><span class="p">:</span> <span class="s2">"${date}"</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"requestBody"</span><span class="p">:</span> <span class="s2">"{\"message\": \"Test at ${timestamp}\"}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"assertions"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"statusCode"</span><span class="p">:</span> <span class="mi">201</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="tokenå‚æ•°åŒ–ä¾èµ–æµ‹è¯•å®Œæ•´ç¤ºä¾‹">Tokenå‚æ•°åŒ–ä¾èµ–æµ‹è¯•ï¼ˆå®Œæ•´ç¤ºä¾‹ï¼‰<a aria-hidden="true" class="anchor" hidden="" href="#tokenå‚æ•°åŒ–ä¾èµ–æµ‹è¯•å®Œæ•´ç¤ºä¾‹">#</a></h4><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"id"</span><span class="p">:</span> <span class="s2">"login_success"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"LoginSuccess"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"description"</span><span class="p">:</span> <span class="s2">"ç”¨æˆ·ç™»å½•æˆåŠŸå¹¶æå–token"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"endpoint"</span><span class="p">:</span> <span class="s2">"/wsms/pc/auth/login"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"headers"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json;charset=UTF-8"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"Origin"</span><span class="p">:</span> <span class="s2">"https://testntr.yaoshibang.cn"</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"requestBody"</span><span class="p">:</span> <span class="s2">"{\"account\":\"admin\",\"password\":\"827ccb0eea8a706c4c34a16891f84e7b\",\"token\":\"\"}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"assertions"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"statusCode"</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"body.code"</span><span class="p">:</span> <span class="s2">"40001"</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"extractors"</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"source"</span><span class="p">:</span> <span class="s2">"response.body"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"path"</span><span class="p">:</span> <span class="s2">"data.token"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"target"</span><span class="p">:</span> <span class="s2">"authToken"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"string"</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"groups"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"auth"</span><span class="p">,</span> <span class="s2">"smoke"</span><span class="p">,</span> <span class="s2">"critical"</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="err">,</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"id"</span><span class="p">:</span> <span class="s2">"token_parameterized_apis"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"TokenParameterizedAPIs"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"description"</span><span class="p">:</span> <span class="s2">"ä½¿ç”¨ç™»å½•tokençš„å‚æ•°åŒ–APIæµ‹è¯•"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"endpoint"</span><span class="p">:</span> <span class="s2">"/wsms/pc/${endpoint}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"headers"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json;charset=UTF-8"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"Origin"</span><span class="p">:</span> <span class="s2">"https://testntr.yaoshibang.cn"</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"testDataSets"</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"data"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">"endpoint"</span><span class="p">:</span> <span class="s2">"user/getUserList"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">"bodyData"</span><span class="p">:</span> <span class="s2">"{\"token\":\"${context.authToken}\",\"page\":1,\"size\":10}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">"expectedCode"</span><span class="p">:</span> <span class="s2">"40001"</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"data"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">"endpoint"</span><span class="p">:</span> <span class="s2">"role/getRoleList"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">"bodyData"</span><span class="p">:</span> <span class="s2">"{\"token\":\"${context.authToken}\"}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">"expectedCode"</span><span class="p">:</span> <span class="s2">"40001"</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">"data"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">"endpoint"</span><span class="p">:</span> <span class="s2">"menu/getMenuList"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">"bodyData"</span><span class="p">:</span> <span class="s2">"{\"token\":\"${context.authToken}\"}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">"expectedCode"</span><span class="p">:</span> <span class="s2">"40001"</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"requestBody"</span><span class="p">:</span> <span class="s2">"${bodyData}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"assertions"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"statusCode"</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">"body.code"</span><span class="p">:</span> <span class="s2">"${expectedCode}"</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"dependsOn"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"login_success"</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">"groups"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"user"</span><span class="p">,</span> <span class="s2">"role"</span><span class="p">,</span> <span class="s2">"menu"</span><span class="p">,</span> <span class="s2">"smoke"</span><span class="p">,</span> <span class="s2">"critical"</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="æµ‹è¯•åˆ†ç»„æ‰§è¡Œç¤ºä¾‹">æµ‹è¯•åˆ†ç»„æ‰§è¡Œç¤ºä¾‹<a aria-hidden="true" class="anchor" hidden="" href="#æµ‹è¯•åˆ†ç»„æ‰§è¡Œç¤ºä¾‹">#</a></h4><p>ä½¿ç”¨ä¸Šè¿°é…ç½®ï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹æ–¹å¼æ‰§è¡Œä¸åŒåœºæ™¯çš„æµ‹è¯•ï¼š</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># æ‰§è¡Œå†’çƒŸæµ‹è¯•ï¼ˆåŒ…å«ç™»å½•å’Œå…³é”®APIï¼‰</span>
</span></span><span class="line"><span class="cl">mvn <span class="nb">test</span> <span class="s2">"-Dtest=UnifiedApiTest"</span> <span class="s2">"-DtestGroup=smoke"</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ä»…æ‰§è¡Œè®¤è¯ç›¸å…³æµ‹è¯•</span>
</span></span><span class="line"><span class="cl">mvn <span class="nb">test</span> <span class="s2">"-Dtest=UnifiedApiTest"</span> <span class="s2">"-DtestGroup=auth"</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æ‰§è¡Œç”¨æˆ·ç®¡ç†ç›¸å…³æµ‹è¯•</span>
</span></span><span class="line"><span class="cl">mvn <span class="nb">test</span> <span class="s2">"-Dtest=UnifiedApiTest"</span> <span class="s2">"-DtestGroup=user"</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æ‰§è¡Œå•ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ˆä¼šè‡ªåŠ¨åŒ…å«ä¾èµ–ï¼‰</span>
</span></span><span class="line"><span class="cl">mvn <span class="nb">test</span> <span class="s2">"-Dtest=UnifiedApiTest"</span> <span class="s2">"-DtestId=token_parameterized_apis"</span>
</span></span></code></pre></div><p><strong>æ‰§è¡Œæµç¨‹è¯´æ˜ï¼š</strong></p><ol><li>é¦–å…ˆæ‰§è¡Œ <code>login_success</code> æµ‹è¯•ç”¨ä¾‹ï¼ŒæˆåŠŸåä»å“åº”ä¸­æå– <code>authToken</code></li><li><code>authToken</code> è¢«å­˜å‚¨åˆ°æµ‹è¯•ä¸Šä¸‹æ–‡ä¸­</li><li>ç„¶åæ‰§è¡Œ <code>token_parameterized_apis</code> æµ‹è¯•ç”¨ä¾‹ï¼Œç”±äºé…ç½®äº† <code>dependsOn: ["login_success"]</code>ï¼Œç¡®ä¿ç™»å½•å…ˆæ‰§è¡Œ</li><li>å‚æ•°åŒ–æµ‹è¯•ä¼šä½¿ç”¨3ç»„ä¸åŒçš„æ•°æ®åˆ†åˆ«æ‰§è¡Œï¼Œæ¯ç»„æ•°æ®ä¸­çš„ <code>${context.authToken}</code> éƒ½ä¼šè¢«æ›¿æ¢ä¸ºå®é™…çš„tokenå€¼</li><li>æ‰€æœ‰APIè°ƒç”¨éƒ½ä½¿ç”¨åŒä¸€ä¸ªç™»å½•tokenï¼Œä½†æµ‹è¯•ä¸åŒçš„ç«¯ç‚¹å’Œå‚æ•°</li></ol><h3 id="ç”Ÿæˆ-allure-æŠ¥å‘Š">ç”Ÿæˆ Allure æŠ¥å‘Š<a aria-hidden="true" class="anchor" hidden="" href="#ç”Ÿæˆ-allure-æŠ¥å‘Š">#</a></h3><p>è¦ç”Ÿæˆ Allure æŠ¥å‘Šï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ï¼š</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">allure serve target/allure-results
</span></span></code></pre></div><h2 id="cicd-é›†æˆ">CI/CD é›†æˆ<a aria-hidden="true" class="anchor" hidden="" href="#cicd-é›†æˆ">#</a></h2><p>è¯¥é¡¹ç›®åŒ…å«ä¸€ä¸ª GitHub Actions å·¥ä½œæµï¼Œè¯¥å·¥ä½œæµåœ¨æ¯æ¬¡å‘ main åˆ†æ”¯æ¨é€ä»£ç æˆ–æäº¤æ‹‰å–è¯·æ±‚æ—¶éƒ½ä¼šè‡ªåŠ¨è¿è¡Œã€‚å®ƒå°†è‡ªåŠ¨æ‰§è¡Œæµ‹è¯•å¹¶ç”Ÿæˆ Allure æŠ¥å‘Šã€‚</p><h2 id="ä¼˜åŠ¿-1">ä¼˜åŠ¿<a aria-hidden="true" class="anchor" hidden="" href="#ä¼˜åŠ¿-1">#</a></h2><ol><li><strong>æµ‹è¯•ç”¨ä¾‹ä¸æ¥å£åˆ†ç¦»</strong>: æµ‹è¯•é€»è¾‘ä¸APIè°ƒç”¨é€»è¾‘å®Œå…¨åˆ†ç¦»</li><li><strong>é…ç½®é©±åŠ¨</strong>: é€šè¿‡JSONé…ç½®æ–‡ä»¶æ·»åŠ /ä¿®æ”¹æµ‹è¯•ç”¨ä¾‹ï¼Œæ— éœ€ç¼–ç </li><li><strong>å¯æ‰©å±•æ€§</strong>: æ˜“äºæ‰©å±•æ”¯æŒå…¶ä»–æ•°æ®æºï¼ˆå¦‚Excelã€æ•°æ®åº“ç­‰ï¼‰</li><li><strong>ç»´æŠ¤æ€§</strong>: APIå˜æ›´åªéœ€ä¿®æ”¹æœåŠ¡å±‚ï¼Œä¸å½±å“æµ‹è¯•ç”¨ä¾‹</li><li><strong>ä¾èµ–ç®¡ç†</strong>: è‡ªåŠ¨å¤„ç†æµ‹è¯•ç”¨ä¾‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç¡®ä¿æ­£ç¡®çš„æ‰§è¡Œé¡ºåº</li><li><strong>æ•°æ®å…±äº«</strong>: æ”¯æŒåœ¨æµ‹è¯•ç”¨ä¾‹é—´å…±äº«æ•°æ®ï¼Œå®ç°å¤æ‚çš„æµ‹è¯•åœºæ™¯</li><li><strong>å‚æ•°åŒ–æµ‹è¯•</strong>: å•ä¸ªæµ‹è¯•ç”¨ä¾‹æ”¯æŒå¤šç»„æµ‹è¯•æ•°æ®ï¼Œæé«˜æµ‹è¯•è¦†ç›–ç‡</li><li><strong>åŠ¨æ€å˜é‡</strong>: å†…ç½®å¤šç§åŠ¨æ€å˜é‡ï¼Œæ”¯æŒçµæ´»çš„æµ‹è¯•æ•°æ®ç”Ÿæˆ</li><li><strong>ç»Ÿä¸€å…¥å£</strong>: æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ç»Ÿä¸€å…¥å£æ‰§è¡Œï¼Œç®€åŒ–æµ‹è¯•ç®¡ç†</li><li><strong>æ™ºèƒ½å¤±è´¥è¯Šæ–­</strong>: è‡ªåŠ¨è®°å½•å¤±è´¥æµ‹è¯•çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬URLã€è¯·æ±‚å‚æ•°ã€å“åº”å‚æ•°ç­‰</li><li><strong>æ•°æ®åº“é›†æˆ</strong>: æ”¯æŒåœ¨æµ‹è¯•å‰åæ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢ï¼Œå®ç°æ•°æ®é©±åŠ¨çš„æµ‹è¯•åœºæ™¯</li><li><strong>å…¨é¢æ–­è¨€æ”¯æŒ</strong>: æ”¯æŒå¤šç§æ–­è¨€ç±»å‹ï¼ŒåŒ…æ‹¬æ­£åˆ™åŒ¹é…ã€ç©ºå€¼æ£€æŸ¥ã€æ•°å€¼æ¯”è¾ƒç­‰</li></ol><h2 id="å¤±è´¥æ—¥å¿—è®°å½•">å¤±è´¥æ—¥å¿—è®°å½•<a aria-hidden="true" class="anchor" hidden="" href="#å¤±è´¥æ—¥å¿—è®°å½•">#</a></h2><p>å½“æµ‹è¯•ç”¨ä¾‹å¤±è´¥æ—¶ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨è®°å½•è¯¦ç»†çš„å¤±è´¥ä¿¡æ¯ï¼š</p><ul><li><strong>æ§åˆ¶å°è¾“å‡º</strong>: æ˜¾ç¤ºå®Œæ•´çš„å¤±è´¥è¯¦æƒ…ï¼ŒåŒ…æ‹¬URLã€è¯·æ±‚å¤´ã€è¯·æ±‚ä½“ã€å“åº”çŠ¶æ€ç ã€å“åº”å¤´ã€å“åº”ä½“ç­‰</li><li><strong>æ—¥å¿—æ–‡ä»¶</strong>: æ‰€æœ‰å¤±è´¥ä¿¡æ¯åŒæ—¶è®°å½•åˆ° <code>target/logs/test_failures.log</code> æ–‡ä»¶ä¸­ï¼ˆUTF-8ç¼–ç ï¼Œæ”¯æŒä¸­æ–‡ï¼‰</li><li><strong>è°ƒè¯•å‹å¥½</strong>: æä¾›å®Œæ•´çš„è¯·æ±‚/å“åº”ä¸Šä¸‹æ–‡ï¼Œä¾¿äºå¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜</li></ul><h3 id="å¤±è´¥æ—¥å¿—ç¤ºä¾‹">å¤±è´¥æ—¥å¿—ç¤ºä¾‹<a aria-hidden="true" class="anchor" hidden="" href="#å¤±è´¥æ—¥å¿—ç¤ºä¾‹">#</a></h3><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="o">================================================================================</span>
</span></span><span class="line"><span class="cl"><span class="err">âŒ</span> <span class="err">æµ‹è¯•ç”¨ä¾‹å¤±è´¥</span><span class="p">:</span> <span class="n">CustomAccountLogin</span>
</span></span><span class="line"><span class="cl"><span class="n">ID</span><span class="p">:</span> <span class="n">custom_account_login</span>
</span></span><span class="line"><span class="cl"><span class="err">æè¿°</span><span class="p">:</span> <span class="err">ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„</span><span class="mi">11</span><span class="err">ä½è´¦å·ï¼ˆåŒ…å«ç‰¹æ®Šå­—ç¬¦ã€å­—ç¬¦ä¸²ã€è‹±æ–‡ç­‰ï¼‰è¿›è¡Œç™»å½•æµ‹è¯•</span>
</span></span><span class="line"><span class="cl"><span class="o">--------------------------------------------------------------------------------</span>
</span></span><span class="line"><span class="cl"><span class="err">ğŸ“‹</span> <span class="err">è¯·æ±‚ä¿¡æ¯</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">   <span class="n">URL</span><span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">testntr</span><span class="o">.</span><span class="n">yaoshibang</span><span class="o">.</span><span class="n">cn</span><span class="o">/</span><span class="n">wsms</span><span class="o">/</span><span class="n">pc</span><span class="o">/</span><span class="n">auth</span><span class="o">/</span><span class="n">login</span>
</span></span><span class="line"><span class="cl">   <span class="err">æ–¹æ³•</span><span class="p">:</span> <span class="n">POST</span>
</span></span><span class="line"><span class="cl">   <span class="err">è¯·æ±‚å¤´</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">     <span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span><span class="p">;</span><span class="n">charset</span><span class="o">=</span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span>
</span></span><span class="line"><span class="cl">     <span class="n">Origin</span><span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">testntr</span><span class="o">.</span><span class="n">yaoshibang</span><span class="o">.</span><span class="n">cn</span>
</span></span><span class="line"><span class="cl">   <span class="err">è¯·æ±‚ä½“</span><span class="p">:</span> <span class="p">{</span><span class="s2">"account"</span><span class="p">:</span><span class="s2">"${custom:account(length=11)}"</span><span class="p">,</span><span class="s2">"password"</span><span class="p">:</span><span class="s2">"${custom:password(length=12)}"</span><span class="p">,</span><span class="s2">"token"</span><span class="p">:</span><span class="s2">""</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="o">--------------------------------------------------------------------------------</span>
</span></span><span class="line"><span class="cl"><span class="err">ğŸ“‹</span> <span class="err">å“åº”ä¿¡æ¯</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">   <span class="err">çŠ¶æ€ç </span><span class="p">:</span> <span class="mi">200</span>
</span></span><span class="line"><span class="cl">   <span class="err">å“åº”æ—¶é—´</span><span class="p">:</span> <span class="mi">45</span><span class="n">ms</span>
</span></span><span class="line"><span class="cl">   <span class="err">å“åº”å¤´</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">     <span class="n">Server</span><span class="p">:</span> <span class="n">nginx</span>
</span></span><span class="line"><span class="cl">     <span class="n">Date</span><span class="p">:</span> <span class="n">Wed</span><span class="p">,</span> <span class="mi">19</span> <span class="n">Nov</span> <span class="mi">2025</span> <span class="mi">10</span><span class="p">:</span><span class="mi">52</span><span class="p">:</span><span class="mi">23</span> <span class="n">GMT</span>
</span></span><span class="line"><span class="cl">     <span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
</span></span><span class="line"><span class="cl">     <span class="n">Transfer</span><span class="o">-</span><span class="n">Encoding</span><span class="p">:</span> <span class="n">chunked</span>
</span></span><span class="line"><span class="cl">     <span class="n">Connection</span><span class="p">:</span> <span class="n">keep</span><span class="o">-</span><span class="n">alive</span>
</span></span><span class="line"><span class="cl">     <span class="n">vary</span><span class="p">:</span> <span class="n">origin</span><span class="p">,</span><span class="n">access</span><span class="o">-</span><span class="n">control</span><span class="o">-</span><span class="n">request</span><span class="o">-</span><span class="n">method</span><span class="p">,</span><span class="n">access</span><span class="o">-</span><span class="n">control</span><span class="o">-</span><span class="n">request</span><span class="o">-</span><span class="n">headers</span><span class="p">,</span><span class="n">accept</span><span class="o">-</span><span class="n">encoding</span>
</span></span><span class="line"><span class="cl">     <span class="n">access</span><span class="o">-</span><span class="n">control</span><span class="o">-</span><span class="n">allow</span><span class="o">-</span><span class="n">origin</span><span class="p">:</span> <span class="o">*</span>
</span></span><span class="line"><span class="cl">     <span class="n">content</span><span class="o">-</span><span class="n">encoding</span><span class="p">:</span> <span class="n">gzip</span>
</span></span><span class="line"><span class="cl">     <span class="n">x</span><span class="o">-</span><span class="n">envoy</span><span class="o">-</span><span class="n">upstream</span><span class="o">-</span><span class="n">service</span><span class="o">-</span><span class="n">time</span><span class="p">:</span> <span class="mi">11</span>
</span></span><span class="line"><span class="cl">     <span class="n">Cache</span><span class="o">-</span><span class="ne">Control</span><span class="p">:</span> <span class="n">no</span><span class="o">-</span><span class="n">cache</span>
</span></span><span class="line"><span class="cl">   <span class="err">å“åº”ä½“</span><span class="p">:</span> <span class="p">{</span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"40003"</span><span class="p">,</span><span class="s2">"message"</span><span class="p">:</span><span class="s2">"æ‰‹æœºå·ä¸å­˜åœ¨ï¼Œè¯·é‡æ–°è¾“å…¥æˆ–è”ç³»ç®¡ç†å‘˜"</span><span class="p">,</span><span class="s2">"data"</span><span class="p">:</span><span class="n">null</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="o">--------------------------------------------------------------------------------</span>
</span></span><span class="line"><span class="cl"><span class="err">âŒ</span> <span class="err">å¤±è´¥åŸå› </span><span class="p">:</span> <span class="mi">1</span> <span class="n">expectation</span> <span class="n">failed</span><span class="o">.</span>
</span></span><span class="line"><span class="cl"><span class="n">JSON</span> <span class="n">path</span> <span class="n">code</span> <span class="n">doesn</span><span class="s1">'t match.</span>
</span></span><span class="line"><span class="cl"><span class="n">Expected</span><span class="p">:</span> <span class="mi">40001</span>
</span></span><span class="line"><span class="cl">  <span class="n">Actual</span><span class="p">:</span> <span class="mi">40003</span>
</span></span><span class="line"><span class="cl"><span class="o">================================================================================</span>
</span></span></code></pre></div><h2 id="é¡¹ç›®æ€»ç»“">é¡¹ç›®æ€»ç»“<a aria-hidden="true" class="anchor" hidden="" href="#é¡¹ç›®æ€»ç»“">#</a></h2><p>æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ REST Assured API è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼Œå…·æœ‰ä»¥ä¸‹æ ¸å¿ƒç‰¹æ€§ï¼š</p><h3 id="æ ¸å¿ƒåŠŸèƒ½">æ ¸å¿ƒåŠŸèƒ½<a aria-hidden="true" class="anchor" hidden="" href="#æ ¸å¿ƒåŠŸèƒ½">#</a></h3><ul><li><strong>HARæ–‡ä»¶è‡ªåŠ¨åŒ–</strong>: æ”¯æŒå°†æµè§ˆå™¨å½•åˆ¶çš„HARæ–‡ä»¶è‡ªåŠ¨è½¬æ¢ä¸ºå®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹</li><li><strong>ç»Ÿä¸€é…ç½®ç®¡ç†</strong>: æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ <code>unified_test_cases.json</code> é›†ä¸­ç®¡ç†</li><li><strong>ä¾èµ–ç®¡ç†</strong>: æ”¯æŒæµ‹è¯•ç”¨ä¾‹é—´çš„ä¾èµ–å…³ç³»ï¼Œè‡ªåŠ¨è¿›è¡Œæ‹“æ‰‘æ’åº</li><li><strong>æ•°æ®æå–</strong>: ä»APIå“åº”ä¸­æå–æ•°æ®å¹¶å­˜å‚¨åˆ°æµ‹è¯•ä¸Šä¸‹æ–‡ï¼Œä¾›åç»­æµ‹è¯•ä½¿ç”¨</li><li><strong>å‚æ•°åŒ–æµ‹è¯•</strong>: å•ä¸ªæµ‹è¯•ç”¨ä¾‹æ”¯æŒå¤šç»„æµ‹è¯•æ•°æ®ï¼Œæé«˜æµ‹è¯•è¦†ç›–ç‡</li><li><strong>åŠ¨æ€å˜é‡</strong>: æ”¯æŒä¸Šä¸‹æ–‡å˜é‡ã€ç¯å¢ƒå˜é‡ã€å†…ç½®å˜é‡å’Œè‡ªå®šä¹‰å˜é‡ç”Ÿæˆå™¨</li><li><strong>æ•°æ®åº“é›†æˆ</strong>: æ”¯æŒåœ¨æµ‹è¯•å‰åæ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢ï¼Œå®ç°å¤æ‚çš„æ•°æ®é©±åŠ¨åœºæ™¯</li><li><strong>æ™ºèƒ½æ–­è¨€</strong>: æ”¯æŒå¤šç§æ–­è¨€ç±»å‹ï¼ŒåŒ…æ‹¬ç²¾ç¡®åŒ¹é…ã€åŒ…å«å­—ç¬¦ä¸²ã€æ­£åˆ™è¡¨è¾¾å¼ã€æ•°å€¼æ¯”è¾ƒç­‰</li><li><strong>å¤±è´¥è¯Šæ–­</strong>: è‡ªåŠ¨è®°å½•å¤±è´¥æµ‹è¯•çš„è¯¦ç»†ä¿¡æ¯ï¼Œä¾¿äºè°ƒè¯•å’Œé—®é¢˜æ’æŸ¥</li></ul><h3 id="æŠ€æœ¯æ¶æ„">æŠ€æœ¯æ¶æ„<a aria-hidden="true" class="anchor" hidden="" href="#æŠ€æœ¯æ¶æ„">#</a></h3><ul><li><strong>åˆ†å±‚è®¾è®¡</strong>: APIæœåŠ¡å±‚ã€æµ‹è¯•æ•°æ®æ¨¡å‹å±‚ã€æµ‹è¯•æœåŠ¡å±‚ã€æµ‹è¯•ç”¨ä¾‹å±‚</li><li><strong>é…ç½®é©±åŠ¨</strong>: é€šè¿‡JSONé…ç½®æ–‡ä»¶å®šä¹‰æµ‹è¯•ç”¨ä¾‹ï¼Œæ— éœ€ä¿®æ”¹Javaä»£ç </li><li><strong>ç»Ÿä¸€å…¥å£</strong>: æ‰€æœ‰æµ‹è¯•é€šè¿‡ <code>UnifiedApiTest</code> ç±»æ‰§è¡Œï¼Œç®€åŒ–æµ‹è¯•ç®¡ç†</li><li><strong>çº¿ç¨‹å®‰å…¨</strong>: ä½¿ç”¨ <code>ThreadLocal</code> ç¡®ä¿æµ‹è¯•ä¸Šä¸‹æ–‡çš„çº¿ç¨‹å®‰å…¨æ€§</li><li><strong>UTF-8æ”¯æŒ</strong>: æ—¥å¿—æ–‡ä»¶ä½¿ç”¨UTF-8ç¼–ç ï¼Œæ­£ç¡®å¤„ç†ä¸­æ–‡å†…å®¹</li></ul><h3 id="ä½¿ç”¨åœºæ™¯">ä½¿ç”¨åœºæ™¯<a aria-hidden="true" class="anchor" hidden="" href="#ä½¿ç”¨åœºæ™¯">#</a></h3><ul><li><strong>APIåŠŸèƒ½æµ‹è¯•</strong>: éªŒè¯APIçš„æ­£ç¡®æ€§å’Œç¨³å®šæ€§</li><li><strong>å›å½’æµ‹è¯•</strong>: ç¡®ä¿ä»£ç å˜æ›´ä¸ä¼šç ´åç°æœ‰åŠŸèƒ½</li><li><strong>é›†æˆæµ‹è¯•</strong>: éªŒè¯å¤šä¸ªAPIä¹‹é—´çš„é›†æˆå’Œæ•°æ®æµè½¬</li><li><strong>æ€§èƒ½åŸºå‡†</strong>: é€šè¿‡å‚æ•°åŒ–æµ‹è¯•éªŒè¯ä¸åŒè´Ÿè½½ä¸‹çš„APIè¡¨ç°</li><li><strong>å®‰å…¨æµ‹è¯•</strong>: ä½¿ç”¨åŠ¨æ€å˜é‡ç”Ÿæˆå„ç§æµ‹è¯•æ•°æ®ï¼ŒéªŒè¯APIçš„å®‰å…¨æ€§</li></ul><h3 id="å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹<a aria-hidden="true" class="anchor" hidden="" href="#å¿«é€Ÿå¼€å§‹">#</a></h3><ol><li>é…ç½®æ•°æ®åº“è¿æ¥ï¼ˆå¯é€‰ï¼‰: ä¿®æ”¹ <code>src/test/resources/database.properties</code></li><li>æ·»åŠ æµ‹è¯•ç”¨ä¾‹: åœ¨ <code>src/test/resources/testcases/unified_test_cases.json</code> ä¸­å®šä¹‰æµ‹è¯•</li><li>è¿è¡Œæµ‹è¯•: æ‰§è¡Œ <code>mvn clean test</code></li><li>æŸ¥çœ‹ç»“æœ: æ£€æŸ¥æ§åˆ¶å°è¾“å‡ºå’Œ <code>target/logs/test_failures.log</code> æ—¥å¿—æ–‡ä»¶</li><li>ç”ŸæˆæŠ¥å‘Š: ä½¿ç”¨ <code>allure serve target/allure-results</code> æŸ¥çœ‹è¯¦ç»†æµ‹è¯•æŠ¥å‘Š</li></ol><p>æœ¬æ¡†æ¶æ—¨åœ¨æä¾›ä¸€ä¸ªçµæ´»ã€å¯ç»´æŠ¤ã€åŠŸèƒ½å¼ºå¤§çš„APIè‡ªåŠ¨åŒ–æµ‹è¯•è§£å†³æ–¹æ¡ˆï¼Œå¸®åŠ©å›¢é˜Ÿæé«˜æµ‹è¯•æ•ˆç‡å’Œè½¯ä»¶è´¨é‡ã€‚</p></div><footer class="post-footer"><ul class="post-tags"></ul><ul class="share-buttons"><li><a aria-label="share javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›® on x" href="https://x.com/intent/tweet/?text=java%e5%bf%ab%e9%80%9f%e7%94%9f%e6%88%90%e6%8e%a5%e5%8f%a3%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b5%8b%e8%af%95%e7%94%a8%e4%be%8b%e9%a1%b9%e7%9b%ae&amp;url=https%3a%2f%2fbluespace3.github.io%2fpost.backup%2f%25E8%2587%25AA%25E5%258A%25A8%25E5%258C%2596%25E6%25B5%258B%25E8%25AF%2595%2fjava%25E5%25BF%25AB%25E9%2580%259F%25E7%2594%259F%25E6%2588%2590%25E6%258E%25A5%25E5%258F%25A3%25E8%2587%25AA%25E5%258A%25A8%25E5%258C%2596%25E6%25B5%258B%25E8%25AF%2595%25E7%2594%25A8%25E4%25BE%258B%25E9%25A1%25B9%25E7%259B%25AE%2f&amp;hashtags=" rel="noopener noreferrer" target="_blank"><svg fill="currentColor" height="30" viewbox="0 0 512 512" width="30"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"></path></svg></a></li><li><a aria-label="share javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›® on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fbluespace3.github.io%2fpost.backup%2f%25E8%2587%25AA%25E5%258A%25A8%25E5%258C%2596%25E6%25B5%258B%25E8%25AF%2595%2fjava%25E5%25BF%25AB%25E9%2580%259F%25E7%2594%259F%25E6%2588%2590%25E6%258E%25A5%25E5%258F%25A3%25E8%2587%25AA%25E5%258A%25A8%25E5%258C%2596%25E6%25B5%258B%25E8%25AF%2595%25E7%2594%25A8%25E4%25BE%258B%25E9%25A1%25B9%25E7%259B%25AE%2f&amp;title=java%e5%bf%ab%e9%80%9f%e7%94%9f%e6%88%90%e6%8e%a5%e5%8f%a3%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b5%8b%e8%af%95%e7%94%a8%e4%be%8b%e9%a1%b9%e7%9b%ae&amp;summary=java%e5%bf%ab%e9%80%9f%e7%94%9f%e6%88%90%e6%8e%a5%e5%8f%a3%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b5%8b%e8%af%95%e7%94%a8%e4%be%8b%e9%a1%b9%e7%9b%ae&amp;source=https%3a%2f%2fbluespace3.github.io%2fpost.backup%2f%25E8%2587%25AA%25E5%258A%25A8%25E5%258C%2596%25E6%25B5%258B%25E8%25AF%2595%2fjava%25E5%25BF%25AB%25E9%2580%259F%25E7%2594%259F%25E6%2588%2590%25E6%258E%25A5%25E5%258F%25A3%25E8%2587%25AA%25E5%258A%25A8%25E5%258C%2596%25E6%25B5%258B%25E8%25AF%2595%25E7%2594%25A8%25E4%25BE%258B%25E9%25A1%25B9%25E7%259B%25AE%2f" rel="noopener noreferrer" target="_blank"><svg fill="currentColor" height="30" viewbox="0 0 512 512" width="30"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"></path></svg></a></li><li><a aria-label="share javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›® on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fbluespace3.github.io%2fpost.backup%2f%25E8%2587%25AA%25E5%258A%25A8%25E5%258C%2596%25E6%25B5%258B%25E8%25AF%2595%2fjava%25E5%25BF%25AB%25E9%2580%259F%25E7%2594%259F%25E6%2588%2590%25E6%258E%25A5%25E5%258F%25A3%25E8%2587%25AA%25E5%258A%25A8%25E5%258C%2596%25E6%25B5%258B%25E8%25AF%2595%25E7%2594%25A8%25E4%25BE%258B%25E9%25A1%25B9%25E7%259B%25AE%2f&amp;title=java%e5%bf%ab%e9%80%9f%e7%94%9f%e6%88%90%e6%8e%a5%e5%8f%a3%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b5%8b%e8%af%95%e7%94%a8%e4%be%8b%e9%a1%b9%e7%9b%ae" rel="noopener noreferrer" target="_blank"><svg fill="currentColor" height="30" viewbox="0 0 512 512" width="30"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"></path></svg></a></li><li><a aria-label="share javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›® on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fbluespace3.github.io%2fpost.backup%2f%25E8%2587%25AA%25E5%258A%25A8%25E5%258C%2596%25E6%25B5%258B%25E8%25AF%2595%2fjava%25E5%25BF%25AB%25E9%2580%259F%25E7%2594%259F%25E6%2588%2590%25E6%258E%25A5%25E5%258F%25A3%25E8%2587%25AA%25E5%258A%25A8%25E5%258C%2596%25E6%25B5%258B%25E8%25AF%2595%25E7%2594%25A8%25E4%25BE%258B%25E9%25A1%25B9%25E7%259B%25AE%2f" rel="noopener noreferrer" target="_blank"><svg fill="currentColor" height="30" viewbox="0 0 512 512" width="30"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"></path></svg></a></li><li><a aria-label="share javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›® on whatsapp" href="https://api.whatsapp.com/send?text=java%e5%bf%ab%e9%80%9f%e7%94%9f%e6%88%90%e6%8e%a5%e5%8f%a3%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b5%8b%e8%af%95%e7%94%a8%e4%be%8b%e9%a1%b9%e7%9b%ae%20-%20https%3a%2f%2fbluespace3.github.io%2fpost.backup%2f%25E8%2587%25AA%25E5%258A%25A8%25E5%258C%2596%25E6%25B5%258B%25E8%25AF%2595%2fjava%25E5%25BF%25AB%25E9%2580%259F%25E7%2594%259F%25E6%2588%2590%25E6%258E%25A5%25E5%258F%25A3%25E8%2587%25AA%25E5%258A%25A8%25E5%258C%2596%25E6%25B5%258B%25E8%25AF%2595%25E7%2594%25A8%25E4%25BE%258B%25E9%25A1%25B9%25E7%259B%25AE%2f" rel="noopener noreferrer" target="_blank"><svg fill="currentColor" height="30" viewbox="0 0 512 512" width="30"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"></path></svg></a></li><li><a aria-label="share javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›® on telegram" href="https://telegram.me/share/url?text=java%e5%bf%ab%e9%80%9f%e7%94%9f%e6%88%90%e6%8e%a5%e5%8f%a3%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b5%8b%e8%af%95%e7%94%a8%e4%be%8b%e9%a1%b9%e7%9b%ae&amp;url=https%3a%2f%2fbluespace3.github.io%2fpost.backup%2f%25E8%2587%25AA%25E5%258A%25A8%25E5%258C%2596%25E6%25B5%258B%25E8%25AF%2595%2fjava%25E5%25BF%25AB%25E9%2580%259F%25E7%2594%259F%25E6%2588%2590%25E6%258E%25A5%25E5%258F%25A3%25E8%2587%25AA%25E5%258A%25A8%25E5%258C%2596%25E6%25B5%258B%25E8%25AF%2595%25E7%2594%25A8%25E4%25BE%258B%25E9%25A1%25B9%25E7%259B%25AE%2f" rel="noopener noreferrer" target="_blank"><svg fill="currentColor" height="30" viewbox="2 2 28 28" width="30"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"></path></svg></a></li><li><a aria-label="share javaå¿«é€Ÿç”Ÿæˆæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹é¡¹ç›® on ycombinator" href="https://news.ycombinator.com/submitlink?t=java%e5%bf%ab%e9%80%9f%e7%94%9f%e6%88%90%e6%8e%a5%e5%8f%a3%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b5%8b%e8%af%95%e7%94%a8%e4%be%8b%e9%a1%b9%e7%9b%ae&amp;u=https%3a%2f%2fbluespace3.github.io%2fpost.backup%2f%25E8%2587%25AA%25E5%258A%25A8%25E5%258C%2596%25E6%25B5%258B%25E8%25AF%2595%2fjava%25E5%25BF%25AB%25E9%2580%259F%25E7%2594%259F%25E6%2588%2590%25E6%258E%25A5%25E5%258F%25A3%25E8%2587%25AA%25E5%258A%25A8%25E5%258C%2596%25E6%25B5%258B%25E8%25AF%2595%25E7%2594%25A8%25E4%25BE%258B%25E9%25A1%25B9%25E7%259B%25AE%2f" rel="noopener noreferrer" target="_blank"><svg fill="currentColor" height="30" viewbox="0 0 512 512" width="30"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"></path></svg></a></li></ul></footer></article></main><footer class="footer"><span>Â© 2026 <a href="https://bluespace3.github.io/">è“è‰²ç©ºé—´å·</a></span> Â·
<span>Powered by
<a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &amp;
<a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a></span></footer><a accesskey="g" aria-label="go to top" class="top-link" href="#top" id="top-link" title="Go to Top (Alt + G)"><svg fill="currentColor" viewbox="0 0 12 6"><path d="M12 6H0l6-6z"></path></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>