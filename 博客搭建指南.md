# åšå®¢æ­å»ºæŒ‡å—

ä»é›¶å¼€å§‹åœ¨å…¨æ–°è®¾å¤‡ä¸Šæ­å»ºå¹¶è¿è¡Œæœ¬åšå®¢é¡¹ç›®ã€‚

## ğŸ“‹ ç›®å½•

- [ç¯å¢ƒè¦æ±‚](#ç¯å¢ƒè¦æ±‚)
- [ä¸€ã€å®‰è£…åŸºç¡€è½¯ä»¶](#ä¸€å®‰è£…åŸºç¡€è½¯ä»¶)
- [äºŒã€å…‹éš†é¡¹ç›®](#äºŒå…‹éš†é¡¹ç›®)
- [ä¸‰ã€å®‰è£…ä¾èµ–](#ä¸‰å®‰è£…ä¾èµ–)
- [å››ã€é…ç½®åŠ å¯†åŠŸèƒ½](#å››é…ç½®åŠ å¯†åŠŸèƒ½)
- [äº”ã€æœ¬åœ°é¢„è§ˆ](#äº”æœ¬åœ°é¢„è§ˆ)
- [å…­ã€å‘å¸ƒéƒ¨ç½²](#å…­å‘å¸ƒéƒ¨ç½²)
- [ä¸ƒã€å¸¸è§é—®é¢˜](#ä¸ƒå¸¸è§é—®é¢˜)

---

## ç¯å¢ƒè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**ï¼šWindows / macOS / Linux
- **Git**ï¼šç‰ˆæœ¬æ§åˆ¶å·¥å…·
- **Hugo**ï¼šé™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼ˆv0.146.0+ï¼‰
- **Python**ï¼šè¿è¡ŒåŠ å¯†è„šæœ¬ï¼ˆ3.xï¼‰

---

## ä¸€ã€å®‰è£…åŸºç¡€è½¯ä»¶

### 1. å®‰è£… Git

**Windowsï¼š**
```bash
# ä½¿ç”¨ Chocolatey å®‰è£…
choco install git

# æˆ–ä»å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…
# https://git-scm.com/download/win
```

**macOSï¼š**
```bash
brew install git
```

**Linux (Ubuntu/Debian)ï¼š**
```bash
sudo apt update
sudo apt install git
```

### 2. å®‰è£… Hugo

**Windowsï¼ˆæ¨èä½¿ç”¨ Chocolateyï¼‰ï¼š**
```bash
# å®‰è£… Chocolateyï¼ˆå¦‚æœè¿˜æ²¡å®‰è£…ï¼‰
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ PowerShell
Set-ExecutionPolicy Bypass -Scope Process -Force
[System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072
iex ((New-Object System.Net.WebClient).DownloadString('https://community.chocolatey.org/install.ps1'))

# å®‰è£… Hugo Extended
choco install hugo-extended -y
```

**macOSï¼š**
```bash
brew install hugo
```

**Linux (Ubuntu/Debian)ï¼š**
```bash
# ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
wget https://github.com/gohugoio/hugo/releases/download/v0.156.0/hugo_extended_0.156.0_linux-amd64.deb

# å®‰è£…
sudo dpkg -i hugo_extended_0.156.0_linux-amd64.deb
```

### 3. å®‰è£… Python

**Windowsï¼š**
```bash
# ä½¿ç”¨ Chocolatey
choco install python -y

# æˆ–ä»å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…
# https://www.python.org/downloads/
```

**macOS / Linuxï¼š**
é€šå¸¸ç³»ç»Ÿå·²é¢„è£… Pythonï¼Œæˆ–ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…ã€‚

**éªŒè¯å®‰è£…ï¼š**
```bash
git --version
hugo version
python --version
```

---

## äºŒã€å…‹éš†é¡¹ç›®

### 1. å…‹éš†åšå®¢ä»“åº“

```bash
# å…‹éš†ä½ çš„åšå®¢ä»“åº“
git clone https://github.com/bluespace3/bluespace3.github.io.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd bluespace3.github.io
```

### 2. æ£€æŸ¥é¡¹ç›®ç»“æ„

```
bluespace3.github.io/
â”œâ”€â”€ content/          # åšå®¢æ–‡ç« å†…å®¹
â”œâ”€â”€ themes/           # Hugo ä¸»é¢˜
â”œâ”€â”€ static/           # é™æ€èµ„æºï¼ˆCSS/JS/å›¾ç‰‡ï¼‰
â”œâ”€â”€ layouts/          # è‡ªå®šä¹‰å¸ƒå±€
â”œâ”€â”€ config/           # é…ç½®æ–‡ä»¶
â”œâ”€â”€ hugo.toml         # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ tools/            # å·¥å…·è„šæœ¬
â””â”€â”€ public/           # ç”Ÿæˆçš„é™æ€ç½‘ç«™ï¼ˆ.gitignoreï¼‰
```

---

## ä¸‰ã€å®‰è£…ä¾èµ–

### 1. å®‰è£… PaperMod ä¸»é¢˜

```bash
# å¦‚æœä¸»é¢˜è¿˜æœªå…‹éš†
cd themes
git clone --depth=1 https://github.com/adityatelange/hugo-PaperMod.git PaperMod
cd ..
```

### 2. å®‰è£… Python ä¾èµ–ï¼ˆç”¨äºåŠ å¯†åŠŸèƒ½ï¼‰

```bash
# å®‰è£…åŠ å¯†ç›¸å…³ä¾èµ–
pip install pycryptodome beautifulsoup4 lxml
```

**æ³¨æ„**ï¼šå¦‚æœ `pip install` å¤±è´¥ï¼Œå°è¯•ï¼š
```bash
# å‡çº§ pip
python -m pip install --upgrade pip

# ä½¿ç”¨å›½å†…é•œåƒæº
pip install -i https://mirrors.aliyun.com/pypi/simple/ pycryptodome beautifulsoup4 lxml
```

### 3. å®‰è£… hugo_encryptorï¼ˆåŠ å¯†å·¥å…·ï¼‰

```bash
# å…‹éš†å·¥å…·åˆ°é¡¹ç›®ç›®å½•
git clone https://github.com/Li4n0/hugo_encryptor.git tools/hugo_encryptor

# å¤åˆ¶ shortcode æ–‡ä»¶
mkdir -p layouts/shortcodes
cp tools/hugo_encryptor/shortcodes/hugo-encryptor.html layouts/shortcodes/
```

---

## å››ã€é…ç½®åŠ å¯†åŠŸèƒ½

### 1. éªŒè¯åŠ å¯†æ–‡ä»¶

ç¡®è®¤ä»¥ä¸‹æ–‡ä»¶å­˜åœ¨ï¼š
- `layouts/shortcodes/hugo-encryptor.html`
- `tools/hugo_encryptor/hugo-encryptor.py`
- `static/css/encrypted-content.css`
- `static/js/encrypted-content.js`

### 2. ä½¿ç”¨åŠ å¯†åŠŸèƒ½

åœ¨æ–‡ç« ä¸­ä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š

```markdown
---
title: "åŠ å¯†æ–‡ç« æ ‡é¢˜"
date: 2025-02-26
---

è¿™é‡Œæ˜¯å…¬å¼€å†…å®¹ï¼Œæ‰€æœ‰äººå¯è§ã€‚

<!--more-->  <!-- å¿…é¡»æ·»åŠ  -->

{{% hugo-encryptor "ä½ çš„å¯†ç " %}}

# è¿™é‡Œæ˜¯åŠ å¯†å†…å®¹
åªæœ‰è¾“å…¥æ­£ç¡®å¯†ç æ‰èƒ½æŸ¥çœ‹ï¼

{{% /hugo-encryptor %}}
```

---

## äº”ã€æœ¬åœ°é¢„è§ˆ

### 1. ç”Ÿæˆç½‘ç«™

```bash
# æ¸…ç†å¹¶ç”Ÿæˆç½‘ç«™
hugo --cleanDestinationDir

# å¦‚æœæœ‰åŠ å¯†æ–‡ç« ï¼Œè¿è¡ŒåŠ å¯†è„šæœ¬
python tools/hugo_encryptor/hugo-encryptor.py
```

### 2. å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨

```bash
# å¯åŠ¨é¢„è§ˆæœåŠ¡å™¨ï¼ˆåŒ…å«è‰ç¨¿ï¼‰
hugo server -D

# æˆ–è€…ä¸åŒ…å«è‰ç¨¿
hugo server
```

### 3. è®¿é—®åšå®¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:1313

---

## å…­ã€å‘å¸ƒéƒ¨ç½²

### æ–¹å¼ 1ï¼šæ‰‹åŠ¨éƒ¨ç½²ï¼ˆå½“å‰ä½¿ç”¨ï¼‰

```bash
# 1. ç”Ÿæˆç½‘ç«™
hugo --cleanDestinationDir

# 2. åŠ å¯†æ–‡ç« 
python tools/hugo_encryptor/hugo-encryptor.py

# 3. æäº¤ä»£ç 
git add .
git commit -m "æ›´æ–°åšå®¢å†…å®¹"
git push origin main
```

GitHub Pages ä¼šè‡ªåŠ¨éƒ¨ç½² `main` åˆ†æ”¯çš„å†…å®¹ã€‚

### æ–¹å¼ 2ï¼šä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆæ¨èï¼‰

åˆ›å»ºä¸€ä¸ª `deploy.sh` æˆ– `deploy.bat` è„šæœ¬ï¼š

**Windows (deploy.bat)ï¼š**
```batch
@echo off
echo æ­£åœ¨ç”Ÿæˆç½‘ç«™...
hugo --cleanDestinationDir

echo æ­£åœ¨åŠ å¯†æ–‡ç« ...
python tools/hugo_encryptor/hugo-encryptor.py

echo æ­£åœ¨æäº¤åˆ° Git...
git add .
git commit -m "è‡ªåŠ¨éƒ¨ç½²: %date% %time%"
git push origin main

echo éƒ¨ç½²å®Œæˆï¼
pause
```

**Linux/macOS (deploy.sh)ï¼š**
```bash
#!/bin/bash

echo "æ­£åœ¨ç”Ÿæˆç½‘ç«™..."
hugo --cleanDestinationDir

echo "æ­£åœ¨åŠ å¯†æ–‡ç« ..."
python tools/hugo_encryptor/hugo-encryptor.py

echo "æ­£åœ¨æäº¤åˆ° Git..."
git add .
git commit -m "è‡ªåŠ¨éƒ¨ç½²: $(date '+%Y-%m-%d %H:%M:%S')"
git push origin main

echo "éƒ¨ç½²å®Œæˆï¼"
```

ä½¿ç”¨æ–¹æ³•ï¼š
```bash
# Windows
deploy.bat

# Linux/macOS
chmod +x deploy.sh
./deploy.sh
```

---

## ä¸ƒã€å¸¸è§é—®é¢˜

### Q1: Hugo ç‰ˆæœ¬ä¸å…¼å®¹

**é—®é¢˜**ï¼š`Module "PaperMod" is not compatible with this Hugo version`

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# å‡çº§ Hugo
choco upgrade hugo-extended -y  # Windows
brew upgrade hugo                # macOS

# éªŒè¯ç‰ˆæœ¬ï¼ˆéœ€è¦ >= 0.146.0ï¼‰
hugo version
```

### Q2: Python ä¾èµ–å®‰è£…å¤±è´¥

**é—®é¢˜**ï¼š`pycrypto` ç¼–è¯‘å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨ `pycryptodome` æ›¿ä»£
```bash
pip install pycryptodome
```

### Q3: åŠ å¯†å†…å®¹ä¸ç”Ÿæ•ˆ

**æ£€æŸ¥æ¸…å•**ï¼š
1. æ–‡ç« ä¸­æ˜¯å¦åŒ…å« `<!--more-->` æ ‡ç­¾
2. æ˜¯å¦è¿è¡Œäº†åŠ å¯†è„šæœ¬ï¼š`python tools/hugo_encryptor/hugo-encryptor.py`
3. shortcode è¯­æ³•æ˜¯å¦æ­£ç¡®ï¼š`{{% hugo-encryptor "å¯†ç " %}}`

### Q4: ä¸»é¢˜æ˜¾ç¤ºå¼‚å¸¸

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ¸…ç†ç”Ÿæˆç›®å½•
rm -rf public/
hugo --cleanDestinationDir
```

### Q5: Git æ¨é€å¤±è´¥

**é—®é¢˜**ï¼šè®¤è¯å¤±è´¥æˆ–æƒé™é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ä½¿ç”¨ SSH å¯†é’¥ï¼š`git remote set-url origin git@github.com:bluespace3/bluespace3.github.io.git`
2. æˆ–é…ç½® Personal Access Token

---

## å…«ã€æ—¥å¸¸ä½¿ç”¨

### åˆ›å»ºæ–°æ–‡ç« 

```bash
# åˆ›å»ºæ–°æ–‡ç« 
hugo new post/æˆ‘çš„æ–°æ–‡ç« .md

# ç¼–è¾‘æ–‡ç« 
# ä½¿ç”¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨ç¼–è¾‘ content/post/æˆ‘çš„æ–°æ–‡ç« .md
```

### æœ¬åœ°é¢„è§ˆä¿®æ”¹

```bash
# å¯åŠ¨é¢„è§ˆæœåŠ¡å™¨
hugo server -D

# è®¿é—® http://localhost:1313 æŸ¥çœ‹æ•ˆæœ
```

### å‘å¸ƒæ–‡ç« 

```bash
# æ–¹å¼1ï¼šä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬
./deploy.sh  # Linux/macOS
deploy.bat   # Windows

# æ–¹å¼2ï¼šæ‰‹åŠ¨æ‰§è¡Œ
hugo --cleanDestinationDir && python tools/hugo_encryptor/hugo-encryptor.py
git add .
git commit -m "æ–°å¢æ–‡ç« "
git push origin main
```

---

## ä¹ã€é¡¹ç›®ä¿¡æ¯

- **åšå®¢åœ°å€**ï¼šhttps://bluespace3.github.io/
- **GitHub ä»“åº“**ï¼šhttps://github.com/bluespace3/bluespace3.github.io
- **Hugo ä¸»é¢˜**ï¼š[PaperMod](https://github.com/adityatelange/hugo-PaperMod)
- **åŠ å¯†å·¥å…·**ï¼š[hugo_encryptor](https://github.com/Li4n0/hugo_encryptor)

---

## åã€å¤‡ä»½ä¸æ¢å¤

### å¤‡ä»½é‡è¦å†…å®¹

```bash
# å¤‡ä»½æ–‡ç« å†…å®¹
tar -czf content-backup.tar.gz content/

# å¤‡ä»½é…ç½®æ–‡ä»¶
tar -czf config-backup.tar.gz hugo.toml config/ layouts/
```

### æ¢å¤é¡¹ç›®

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/bluespace3/bluespace3.github.io.git

# 2. å®‰è£…ä¾èµ–
pip install pycryptodome beautifulsoup4 lxml

# 3. å…‹éš†ä¸»é¢˜
git clone --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod

# 4. å…‹éš†åŠ å¯†å·¥å…·
git clone https://github.com/Li4n0/hugo_encryptor.git tools/hugo_encryptor

# 5. å¤åˆ¶ shortcode
cp tools/hugo_encryptor/shortcodes/hugo-encryptor.html layouts/shortcodes/

# 6. ç”Ÿæˆç½‘ç«™
hugo --cleanDestinationDir
```

---

## ğŸ‰ å®Œæˆï¼

ç°åœ¨ä½ çš„åšå®¢å·²ç»å®Œå…¨é…ç½®å¥½äº†ï¼Œå¼€å§‹å†™æ–‡ç« å§ï¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·å‚è€ƒï¼š
- [Hugo å®˜æ–¹æ–‡æ¡£](https://gohugo.io/documentation/)
- [PaperMod ä¸»é¢˜æ–‡æ¡£](https://github.com/adityatelange/hugo-PaperMod/wiki)
- [hugo_encryptor ä½¿ç”¨è¯´æ˜](https://github.com/Li4n0/hugo_encryptor)
