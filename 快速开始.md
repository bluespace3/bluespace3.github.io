# 快速开始指南

本目录包含了博客的自动化脚本，方便快速预览和部署。

## 📁 脚本文件说明

### Windows 用户
- `deploy.bat` - 自动化部署脚本（生成 + 加密 + 提交 + 推送）
- `preview.bat` - 启动本地预览服务器

### Linux/macOS 用户
- `deploy.sh` - 自动化部署脚本
- `preview.sh` - 启动本地预览服务器

## 🚀 快速使用

### 1. 本地预览

**Windows：**
```bash
preview.bat
```

**Linux/macOS：**
```bash
./preview.sh
```

然后访问：http://localhost:1313

### 2. 部署发布

**Windows：**
```bash
deploy.bat
```

**Linux/macOS：**
```bash
./deploy.sh
```

这个脚本会自动完成以下操作：
1. ✅ 生成网站（`hugo --cleanDestinationDir`）
2. ✅ 加密文章（运行加密脚本）
3. ✅ 提交到 Git（`git add` + `git commit`）
4. ✅ 推送到 GitHub（`git push`）

### 3. 创建新文章

```bash
# 创建文章
hugo new post/我的文章标题.md

# 编辑文章
# 使用你喜欢的编辑器编辑 content/post/我的文章标题.md
```

## 📝 文章加密使用方法

在文章中使用以下格式添加加密内容：

```markdown
---
title: "文章标题"
date: 2025-02-26
---

这是公开内容，所有人可见。

<!--more-->  <!-- 必须添加！-->

{{% hugo-encryptor "你的密码" %}}

# 加密内容
这里是需要密码才能看到的内容。

{{% /hugo-encryptor %}}
```

**重要提示：**
- 必须包含 `<!--more-->` 标签
- 密码直接写在 shortcode 中
- 每次部署后加密脚本会自动处理

## 🔧 首次使用配置

如果这是你第一次在新设备上使用，请先查看：
👉 **[完整搭建指南](./博客搭建指南.md)**

主要步骤：
1. 安装 Hugo（>= 0.146.0）
2. 安装 Python 3
3. 安装依赖：`pip install pycryptodome beautifulsoup4 lxml`
4. 克隆主题和加密工具（已配置）

## 📂 项目结构

```
.
├── content/              # 文章内容
│   └── post/            # 博客文章
├── themes/              # Hugo 主题
│   └── PaperMod/        # PaperMod 主题
├── layouts/             # 自定义布局
│   └── shortcodes/      # Shortcodes（包括加密）
├── static/              # 静态资源
│   ├── css/
│   └── js/
├── tools/               # 工具脚本
│   └── hugo_encryptor/  # 加密工具
├── config/              # 配置文件
├── hugo.toml           # 主配置
├── deploy.bat          # Windows 部署脚本
├── preview.bat         # Windows 预览脚本
├── deploy.sh           # Linux/macOS 部署脚本
├── preview.sh          # Linux/macOS 预览脚本
├── 博客搭建指南.md      # 完整搭建文档
└── 快速开始.md          # 本文档
```

## 💡 常用命令

```bash
# 生成网站（不部署）
hugo --cleanDestinationDir

# 手动加密文章
python tools/hugo_encryptor/hugo-encryptor.py

# 查看当前状态
git status

# 查看最近的提交
git log --oneline -10

# 清理生成的文件
rm -rf public/ resources/
```

## ⚠️ 常见问题

### Q: 预览时看不到加密文章？
**A:** 加密只在部署后运行，本地预览时加密内容是可见的。

### Q: 推送失败？
**A:** 检查：
1. 网络连接是否正常
2. GitHub 权限是否配置
3. 是否有冲突需要解决

### Q: 加密不生效？
**A:** 确认：
1. 文章中有 `<!--more-->` 标签
2. shortcode 语法正确
3. 运行了加密脚本

## 📚 更多文档

- [Hugo 官方文档](https://gohugo.io/documentation/)
- [PaperMod 主题文档](https://github.com/adityatelange/hugo-PaperMod/wiki)
- [Markdown 语法指南](https://www.markdownguide.org/)

## 🎉 开始写作

现在一切准备就绪，开始你的创作之旅吧！

```bash
# 启动预览
./preview.sh  # 或 preview.bat (Windows)

# 在另一个终端创建新文章
hugo new post/我的第一篇文章.md
```

祝写作愉快！ ✍️
